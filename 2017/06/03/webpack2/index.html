<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <meta name="baidu-site-verification" content="BzUw18CaUQ" />
  <link rel="dns-prefetch" href="http://Jasonellen.github.io">
  <title>webpack 2 æ‰“åŒ…å®æˆ˜ | å¥‹æ–—èšğŸœ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="å†™åœ¨å¼€å¤´å…ˆè¯´è¯´ä¸ºä»€ä¹ˆè¦å†™è¿™ç¯‡æ–‡ç« , æœ€åˆçš„åŸå› æ˜¯ç»„é‡Œçš„å°æœ‹å‹ä»¬çœ‹äº†webpackæ–‡æ¡£å, è¡¨æƒ…éƒ½æ˜¯è¿™æ ·çš„: 

å’Œè¿™æ ·çš„:
 
æ˜¯çš„, å³ä½¿æ˜¯å¤–å›½ä½¬ä¹Ÿåœ¨åæ§½è¿™æ–‡æ¡£ä¸æ˜¯äººèƒ½çœ‹çš„. å›æƒ³èµ·å½“å¹´è‡ªå·±å•ƒwebpackæ–‡æ¡£çš„è¡€ä¸æ³ªçš„å¾€äº‹, è§‰å¾—æœ‰å¿…è¦æ•´ä¸€ä¸ªæ•™ç¨‹, å¯ä»¥è®©å¤§å®¶çœ‹å®Œåæ„‰æ‚¦åœ°æ­å»ºèµ·ä¸€ä¸ªwebpackæ‰“åŒ…æ–¹æ¡ˆçš„é¡¹ç›®ã€‚
ä¸Šæ‰‹å…ˆæä¸€ä¸ªç®€å•çš„SPAåº”ç”¨ä¸€ä¸Šæ¥æ­¥å­å¤ªå¤§å®¹æ˜“æ‰¯åˆ°è›‹, è®©æˆ‘ä»¬å…ˆå¼„ä¸ªæœ€ç®€å•çš„web">
<meta property="og:type" content="article">
<meta property="og:title" content="webpack 2 æ‰“åŒ…å®æˆ˜">
<meta property="og:url" content="http://Jasonellen.github.io/2017/06/03/webpack2/index.html">
<meta property="og:site_name" content="å¥‹æ–—èšğŸœ">
<meta property="og:description" content="å†™åœ¨å¼€å¤´å…ˆè¯´è¯´ä¸ºä»€ä¹ˆè¦å†™è¿™ç¯‡æ–‡ç« , æœ€åˆçš„åŸå› æ˜¯ç»„é‡Œçš„å°æœ‹å‹ä»¬çœ‹äº†webpackæ–‡æ¡£å, è¡¨æƒ…éƒ½æ˜¯è¿™æ ·çš„: 

å’Œè¿™æ ·çš„:
 
æ˜¯çš„, å³ä½¿æ˜¯å¤–å›½ä½¬ä¹Ÿåœ¨åæ§½è¿™æ–‡æ¡£ä¸æ˜¯äººèƒ½çœ‹çš„. å›æƒ³èµ·å½“å¹´è‡ªå·±å•ƒwebpackæ–‡æ¡£çš„è¡€ä¸æ³ªçš„å¾€äº‹, è§‰å¾—æœ‰å¿…è¦æ•´ä¸€ä¸ªæ•™ç¨‹, å¯ä»¥è®©å¤§å®¶çœ‹å®Œåæ„‰æ‚¦åœ°æ­å»ºèµ·ä¸€ä¸ªwebpackæ‰“åŒ…æ–¹æ¡ˆçš„é¡¹ç›®ã€‚
ä¸Šæ‰‹å…ˆæä¸€ä¸ªç®€å•çš„SPAåº”ç”¨ä¸€ä¸Šæ¥æ­¥å­å¤ªå¤§å®¹æ˜“æ‰¯åˆ°è›‹, è®©æˆ‘ä»¬å…ˆå¼„ä¸ªæœ€ç®€å•çš„web">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2017/5/27/725601bf57ea7ace731e8a72be4d0d91">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2017/5/27/b102f17714d94be26e4cbbe911f5710e">
<meta property="og:image" content="http://Jasonellen.github.io/favicon.png">
<meta property="og:updated_time" content="2017-06-03T08:36:20.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="webpack 2 æ‰“åŒ…å®æˆ˜">
<meta name="twitter:description" content="å†™åœ¨å¼€å¤´å…ˆè¯´è¯´ä¸ºä»€ä¹ˆè¦å†™è¿™ç¯‡æ–‡ç« , æœ€åˆçš„åŸå› æ˜¯ç»„é‡Œçš„å°æœ‹å‹ä»¬çœ‹äº†webpackæ–‡æ¡£å, è¡¨æƒ…éƒ½æ˜¯è¿™æ ·çš„: 

å’Œè¿™æ ·çš„:
 
æ˜¯çš„, å³ä½¿æ˜¯å¤–å›½ä½¬ä¹Ÿåœ¨åæ§½è¿™æ–‡æ¡£ä¸æ˜¯äººèƒ½çœ‹çš„. å›æƒ³èµ·å½“å¹´è‡ªå·±å•ƒwebpackæ–‡æ¡£çš„è¡€ä¸æ³ªçš„å¾€äº‹, è§‰å¾—æœ‰å¿…è¦æ•´ä¸€ä¸ªæ•™ç¨‹, å¯ä»¥è®©å¤§å®¶çœ‹å®Œåæ„‰æ‚¦åœ°æ­å»ºèµ·ä¸€ä¸ªwebpackæ‰“åŒ…æ–¹æ¡ˆçš„é¡¹ç›®ã€‚
ä¸Šæ‰‹å…ˆæä¸€ä¸ªç®€å•çš„SPAåº”ç”¨ä¸€ä¸Šæ¥æ­¥å­å¤ªå¤§å®¹æ˜“æ‰¯åˆ°è›‹, è®©æˆ‘ä»¬å…ˆå¼„ä¸ªæœ€ç®€å•çš„web">
<meta name="twitter:image" content="https://user-gold-cdn.xitu.io/2017/5/27/725601bf57ea7ace731e8a72be4d0d91">
  
    <link rel="alternative" href="/atom.xml" title="å¥‹æ–—èšğŸœ" type="application/atom+xml">
  
  
    <link rel="icon" href="http://ww1.sinaimg.cn/small/908edb0ejw8fa0vrjx3bbj2050050jrg.jpg">
  
  <link rel="stylesheet" href="/main.css">
  

</head>

<body>
  <div id="container">
    <div class="left-col">
      <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img src="http://ww1.sinaimg.cn/small/908edb0ejw8fa0vrjx3bbj2050050jrg.jpg" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Jasonellen</a></h1>
		</hgroup>

		
		<p class="header-subtitle">å‰ç«¯æ‹¼æä¸­çš„å°å°èšğŸœ</p>
		

		<nav class="header-menu">
			<ul>
			
				<li><a href="/">ä¸»é¡µ</a></li>
	        
			</ul>
		</nav>
		<nav class="header-smart-menu">
	        
    		
    			
    			<a class="js-smart-menu" data-idx="0" href="javascript:void(0)">æ–‡ç« åˆ—è¡¨</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="1" href="javascript:void(0)">æ ‡ç­¾</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="2" href="javascript:void(0)">å‹é“¾</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="3" href="javascript:void(0)">å…³äºæˆ‘</a>
    			
    			
            
		</nav>
		<nav class="header-nav">
			<div class="social">
				
					<a class="github" target="_blank" href="//github.com/Jasonellen/" title="github">github</a>
		        
			</div>
		</nav>
	</header>			
</div>



      <div class="ball" style=' width:100px;
            height:100px;
            position: absolute;
            bottom:0;
            left:200px;
            background: url(http://img3.imgtn.bdimg.com/it/u=2342940863,4159168232&fm=23&gp=0.jpg) no-repeat;
            background-size:contain;
            border-radius:50%;
      '>
      </div>

        <script>
            var ball = document.querySelector(".ball");
            gravBall(ball);

            function gravBall(obj){
                var timer = null;
                var speedX =0, speedY=0,x=0,y=0;
                var gapX =0, gapY=0;

                // obj.onmousedown = down;
                addHandler(obj,'mousedown',down);
                addHandler(obj,'mouseup',up);

                function down(ev){           
                    clearInterval(timer); 
                    var ev = ev || window.event;
                    gapX = ev.clientX - obj.offsetLeft;
                    gapY = ev.clientY - obj.offsetTop;
                    addHandler(document,'mousemove',move);    
                }
                function up(){
                    var currentX=0,currentY=0,l=0,t=0;
                    removeHandler(document,'mousemove',move)
                    clearInterval(timer); 
                    timer = setInterval(function(){
                        speedY +=3;  //ä¸€ç›´æœ‰ä¸€ä¸ªYæ–¹å‘çš„å¢åŠ ï¼Œä»¿é‡åŠ›
                        currentX = window.innerWidth - obj.offsetWidth;
                        currentY = window.innerHeight - obj.offsetHeight;
                        l = obj.offsetLeft + speedX;
                        t = obj.offsetTop + speedY;
                        //speedY +=3;  //æ”¾åœ¨è¿™é‡Œå°±æ˜¯å…ˆåˆ¤æ–­å†+3ï¼Œæ ¹æœ¬åœä¸ä¸‹æ¥
                        if(l > currentX){
                            speedX *= -0.8;
                            l =currentX;
                        }
                        if(l < 0){
                            speedX *= -0.8;
                            l = 0;
                        }
                        if(t > currentY){
                            speedY *= -0.8;
                            speedX *= 0.8;
                            t = currentY;
                        }
                        if(t < 0){
                            speedY *= -0.8;
                            speedX *= 0.8;
                            t = 0;
                        }
                        if( Math.abs(t-currentY)<1 && Math.abs(speedY)<1.5 && Math.abs(speedX)<1.5){
                            clearInterval(timer);
                        }
                        obj.style.left = l  + "px";
                        obj.style.top = t  + "px";
                    },30)
                }

                function move(ev){
                    var ev = ev || window.event;
                    //éš¾ç‚¹ä¸€ï¼Œè®°å½•å½“å‰é€Ÿåº¦ æ˜¯æœ€åä¸€æ¬¡çš„offsetLeftå‡å»ä¸Šä¸€æ¬¡çš„offsetLeft
                    speedX = ev.clientX - x - gapX;
                    speedY = ev.clientY - y - gapY;
                    //è®°å½•æœ¬æ¬¡çš„offsetLeftä½œä¸ºä¸‹ä¸€æ¬¡ç§»åŠ¨çš„çš„ä¸Šä¸€æ¬¡çš„offsetLeftï¼›
                    x = obj.offsetLeft;
                    y = obj.offsetTop;
                    var evX = ev.clientX;
                    var evY = ev.clientY;
                    if(ev.clientX<gapX || ev.clientX>window.innerWidth-gapX || ev.clientY<0 || ev.clientY>window.innerHeight){
                        up();
                    }
                    obj.style.left = evX - gapX  + "px";
                    obj.style.top = evY - gapY  + "px";
                }
            }


            function addHandler(element,type,handler){
                if(element.addEventListener){//æ£€æµ‹æ˜¯å¦ä¸ºDOM2çº§æ–¹æ³•
                    element.addEventListener(type, handler, false);
                }else if (element.attachEvent){//æ£€æµ‹æ˜¯å¦ä¸ºIEçº§æ–¹æ³•
                    element.attachEvent("on" + type, handler);
                } else {//æ£€æµ‹æ˜¯å¦ä¸ºDOM0çº§æ–¹æ³•
                    element["on" + type] = handler;
                }
            }
             function removeHandler(element, type, handler){
                if (element.removeEventListener){
                    element.removeEventListener(type, handler, false);
                } else if (element.detachEvent){
                    element.detachEvent("on" + type, handler);
                } else {
                    element["on" + type] = null;
                }
            }  
        </script>  
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"><i class="icon-list"></i></div>
  		<h1 class="header-author js-mobile-header hide">Jasonellen</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				
					<img src="http://ww1.sinaimg.cn/small/908edb0ejw8fa0vrjx3bbj2050050jrg.jpg" class="js-avatar">
				
			</div>
			<hgroup>
			  <h1 class="header-author">Jasonellen</h1>
			</hgroup>
			
			<p class="header-subtitle">å‰ç«¯æ‹¼æä¸­çš„å°å°èšğŸœ</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">ä¸»é¡µ</a></li>
		        
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="//github.com/Jasonellen/" title="github">github</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
        <article id="post-webpack2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      webpack 2 æ‰“åŒ…å®æˆ˜
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="å†™åœ¨å¼€å¤´"><a href="#å†™åœ¨å¼€å¤´" class="headerlink" title="å†™åœ¨å¼€å¤´"></a><strong>å†™åœ¨å¼€å¤´</strong></h2><p>å…ˆè¯´è¯´ä¸ºä»€ä¹ˆè¦å†™è¿™ç¯‡æ–‡ç« , æœ€åˆçš„åŸå› æ˜¯ç»„é‡Œçš„å°æœ‹å‹ä»¬çœ‹äº†<a href="https://link.juejin.im?target=http%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fwebpack.js.org%2F" target="_blank" rel="external">webpack</a>æ–‡æ¡£å, è¡¨æƒ…éƒ½æ˜¯è¿™æ ·çš„: </p>
<p><img src="https://user-gold-cdn.xitu.io/2017/5/27/725601bf57ea7ace731e8a72be4d0d91" alt=""></p>
<p>å’Œè¿™æ ·çš„:</p>
<p><img src="https://user-gold-cdn.xitu.io/2017/5/27/b102f17714d94be26e4cbbe911f5710e" alt=""> </p>
<p>æ˜¯çš„, å³ä½¿æ˜¯å¤–å›½ä½¬ä¹Ÿåœ¨åæ§½è¿™æ–‡æ¡£ä¸æ˜¯äººèƒ½çœ‹çš„. å›æƒ³èµ·å½“å¹´è‡ªå·±å•ƒwebpackæ–‡æ¡£çš„è¡€ä¸æ³ªçš„å¾€äº‹, è§‰å¾—æœ‰å¿…è¦æ•´ä¸€ä¸ªæ•™ç¨‹, å¯ä»¥è®©å¤§å®¶çœ‹å®Œåæ„‰æ‚¦åœ°æ­å»ºèµ·ä¸€ä¸ªwebpackæ‰“åŒ…æ–¹æ¡ˆçš„é¡¹ç›®ã€‚</p>
<h2 id="ä¸Šæ‰‹å…ˆæä¸€ä¸ªç®€å•çš„SPAåº”ç”¨"><a href="#ä¸Šæ‰‹å…ˆæä¸€ä¸ªç®€å•çš„SPAåº”ç”¨" class="headerlink" title="ä¸Šæ‰‹å…ˆæä¸€ä¸ªç®€å•çš„SPAåº”ç”¨"></a><strong>ä¸Šæ‰‹å…ˆæä¸€ä¸ªç®€å•çš„SPAåº”ç”¨</strong></h2><p>ä¸€ä¸Šæ¥æ­¥å­å¤ªå¤§å®¹æ˜“æ‰¯åˆ°è›‹, è®©æˆ‘ä»¬å…ˆå¼„ä¸ªæœ€ç®€å•çš„webpacké…ç½®æ¥çƒ­ä¸€ä¸‹èº«.</p>
<h2 id="å®‰è£…Node-js"><a href="#å®‰è£…Node-js" class="headerlink" title="å®‰è£…Node.js"></a>å®‰è£…Node.js</h2><p>webpackæ˜¯åŸºäºæˆ‘å¤§Node.jsçš„æ‰“åŒ…å·¥å…·, ä¸Šæ¥ç¬¬ä¸€ä»¶äº‹è‡ªç„¶æ˜¯å…ˆå®‰è£…Node.jsäº†,<a href="https://link.juejin.im?target=http%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fnodejs.org%2F" target="_blank" rel="external">ä¼ é€é—¨-&gt;</a>.</p>
<h2 id="åˆå§‹åŒ–ä¸€ä¸ªé¡¹ç›®"><a href="#åˆå§‹åŒ–ä¸€ä¸ªé¡¹ç›®" class="headerlink" title="åˆå§‹åŒ–ä¸€ä¸ªé¡¹ç›®"></a>åˆå§‹åŒ–ä¸€ä¸ªé¡¹ç›®</h2><p>æˆ‘ä»¬å…ˆéšä¾¿æ‰¾ä¸ªåœ°æ–¹, å»ºä¸€ä¸ªæ–‡ä»¶å¤¹å«<strong>simple</strong>, ç„¶ååœ¨è¿™é‡Œé¢æ­é¡¹ç›®.  å¤§å®¶æçš„æ—¶å€™å¯ä»¥å‚ç…§ä¸€ä¸‹. æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹ç›®å½•ç»“æ„:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">â”œâ”€â”€ dist                      æ‰“åŒ…è¾“å‡ºç›®å½•, åªéœ€éƒ¨ç½²è¿™ä¸ªç›®å½•åˆ°ç”Ÿäº§ç¯å¢ƒ</div><div class="line">â”œâ”€â”€ package.json              é¡¹ç›®é…ç½®ä¿¡æ¯</div><div class="line">â”œâ”€â”€ node_modules              npmå®‰è£…çš„ä¾èµ–åŒ…éƒ½åœ¨è¿™é‡Œé¢</div><div class="line">â”œâ”€â”€ src                       æˆ‘ä»¬çš„æºä»£ç </div><div class="line">â”‚   â”œâ”€â”€ components            å¯ä»¥å¤ç”¨çš„æ¨¡å—æ”¾åœ¨è¿™é‡Œé¢</div><div class="line">â”‚   â”œâ”€â”€ index.html            å…¥å£html</div><div class="line">â”‚   â”œâ”€â”€ index.js              å…¥å£js</div><div class="line">â”‚   â”œâ”€â”€ libs                  ä¸åœ¨npmå’Œgitä¸Šçš„åº“æ‰”è¿™é‡Œ</div><div class="line">â”‚   â””â”€â”€ views                 é¡µé¢æ”¾è¿™é‡Œ</div><div class="line">â””â”€â”€ webpack.config.js         webpacké…ç½®æ–‡ä»¶</div></pre></td></tr></table></figure>
<p>æ‰“å¼€å‘½ä»¤è¡Œçª—å£, <strong>cd</strong>åˆ°åˆšæ‰å»ºçš„<strong>simple</strong>ç›®å½•. ç„¶åæ‰§è¡Œè¿™ä¸ªå‘½ä»¤åˆå§‹åŒ–é¡¹ç›®:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm init</div></pre></td></tr></table></figure>
<p>å‘½ä»¤è¡Œä¼šè¦ä½ è¾“å…¥ä¸€äº›é…ç½®ä¿¡æ¯, æˆ‘ä»¬è¿™é‡Œä¸€è·¯æŒ‰å›è½¦ä¸‹å», ç”Ÿæˆä¸€ä¸ªé»˜è®¤çš„é¡¹ç›®é…ç½®æ–‡ä»¶<strong>package.json</strong>.</p>
<h2 id="ç»™é¡¹ç›®åŠ ä¸Šè¯­æ³•æŠ¥é”™å’Œä»£ç è§„èŒƒæ£€æŸ¥"><a href="#ç»™é¡¹ç›®åŠ ä¸Šè¯­æ³•æŠ¥é”™å’Œä»£ç è§„èŒƒæ£€æŸ¥" class="headerlink" title="ç»™é¡¹ç›®åŠ ä¸Šè¯­æ³•æŠ¥é”™å’Œä»£ç è§„èŒƒæ£€æŸ¥"></a>ç»™é¡¹ç›®åŠ ä¸Šè¯­æ³•æŠ¥é”™å’Œä»£ç è§„èŒƒæ£€æŸ¥</h2><p>æˆ‘ä»¬å®‰è£…<a href="https://link.juejin.im?target=http%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttp%253A%2F%2Feslint.org%2F" target="_blank" rel="external">eslint</a>, ç”¨æ¥æ£€æŸ¥è¯­æ³•æŠ¥é”™, å½“æˆ‘ä»¬ä¹¦å†™jsæ—¶, æœ‰é”™è¯¯çš„åœ°æ–¹ä¼šå‡ºç°æç¤º.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install eslint eslint-config-enough eslint-loader --save-dev</div></pre></td></tr></table></figure>
<p><strong>npm install</strong>å¯ä»¥ä¸€æ¡å‘½ä»¤åŒæ—¶å®‰è£…å¤šä¸ªåŒ…, åŒ…ä¹‹é—´ç”¨ç©ºæ ¼åˆ†éš”. åŒ…ä¼šè¢«å®‰è£…è¿›<strong>node_modules</strong>ç›®å½•ä¸­.</p>
<p><strong>â€“save-dev</strong>ä¼šæŠŠå®‰è£…çš„åŒ…å’Œç‰ˆæœ¬å·è®°å½•åˆ°<strong>package.json</strong>ä¸­çš„<strong>devDependencies</strong>å¯¹è±¡ä¸­, è¿˜æœ‰ä¸€ä¸ª<strong>â€“save</strong>, ä¼šè®°å½•åˆ°<strong>dependencies</strong>å¯¹è±¡ä¸­, å®ƒä»¬çš„åŒºåˆ«, æˆ‘ä»¬å¯ä»¥å…ˆç®€å•çš„ç†è§£ä¸ºæ‰“åŒ…å·¥å…·å’Œæµ‹è¯•å·¥å…·ç”¨åˆ°çš„åŒ…ä½¿ç”¨<strong>â€“save-dev</strong>å­˜åˆ°<strong>devDependencies,</strong> æ¯”å¦‚eslint, webpack. æµè§ˆå™¨ä¸­æ‰§è¡Œçš„jsç”¨åˆ°çš„åŒ…å­˜åˆ°<strong>dependencies</strong>, æ¯”å¦‚jQueryç­‰. é‚£ä¹ˆå®ƒä»¬ç”¨æ¥å¹²å˜›çš„?</p>
<p>å› ä¸ºæœ‰äº›npmåŒ…å®‰è£…æ˜¯éœ€è¦ç¼–è¯‘çš„, é‚£ä¹ˆå¯¼è‡´windows/mac/linuxä¸Šç¼–è¯‘å‡ºçš„å¯æ‰§è¡Œæ–‡ä»¶æ˜¯ä¸åŒçš„, ä¹Ÿå°±æ˜¯æ— æ³•é€šç”¨, å› æ­¤æˆ‘ä»¬åœ¨æäº¤ä»£ç åˆ°gitä¸Šå»çš„æ—¶å€™, ä¸€èˆ¬éƒ½ä¼šåœ¨<strong>.gitignore</strong>é‡ŒæŒ‡å®šå¿½ç•¥node_modulesç›®å½•å’Œé‡Œé¢çš„æ–‡ä»¶, è¿™æ ·å…¶ä»–äººä»gitä¸Šæ‹‰ä¸‹æ¥çš„é¡¹ç›®æ˜¯æ²¡æœ‰node_modulesç›®å½•çš„, è¿™æ—¶æˆ‘ä»¬éœ€è¦è¿è¡Œ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install</div></pre></td></tr></table></figure>
<p>å®ƒä¼šè¯»å–<strong>package.json</strong>ä¸­çš„<strong>devDependencies</strong>å’Œ<strong>dependencies</strong>å­—æ®µ, æŠŠè®°å½•çš„åŒ…çš„ç›¸åº”ç‰ˆæœ¬ä¸‹è½½ä¸‹æ¥.</p>
<p>è¿™é‡Œ<a href="https://link.juejin.im?target=http%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fgithub.com%2Ffenivana%2Feslint-config-enough" target="_blank" rel="external">eslint-config-enough</a>æ˜¯é…ç½®æ–‡ä»¶, å®ƒè§„å®šäº†ä»£ç è§„èŒƒ, è¦ä½¿å®ƒç”Ÿæ•ˆ, æˆ‘ä»¬è¦åœ¨<strong>package.json</strong>ä¸­æ·»åŠ å†…å®¹:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  &quot;eslintConfig&quot;: &#123;</div><div class="line">    &quot;extends&quot;: &quot;enough&quot;,</div><div class="line">    &quot;env&quot;: &#123;</div><div class="line">      &quot;browser&quot;: true,</div><div class="line">      &quot;node&quot;: true</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ä¸šç•Œæœ€æœ‰åçš„è¯­æ³•è§„èŒƒæ˜¯<a href="https://link.juejin.im?target=http%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fgithub.com%2Fairbnb%2Fjavascript" target="_blank" rel="external">airbnb</a>å‡ºå“çš„, ä½†å®ƒè§„å®šçš„å¤ªæ­»æ¿äº†, æ¯”å¦‚ä¸å…è®¸ä½¿ç”¨<strong>for-of</strong>å’Œ<strong>for-in</strong>ç­‰. æ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥å‚ç…§<a href="https://link.juejin.im?target=http%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fwww.npmjs.com%2Fpackage%2Feslint-config-airbnb" target="_blank" rel="external">è¿™é‡Œ</a>å®‰è£…ä½¿ç”¨.</p>
<p><a href="https://link.juejin.im?target=http%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fgithub.com%2FMoOx%2Feslint-loader" target="_blank" rel="external">eslint-loader</a>ç”¨äºåœ¨webpackç¼–è¯‘çš„æ—¶å€™æ£€æŸ¥ä»£ç , å¦‚æœæœ‰é”™è¯¯, webpackä¼šæŠ¥é”™.</p>
<p>é¡¹ç›®é‡Œå®‰è£…äº†eslintè¿˜æ²¡ç”¨, æˆ‘ä»¬çš„IDEå’Œç¼–è¾‘å™¨ä¹Ÿå¾—è¦è£…eslintæ’ä»¶æ”¯æŒå®ƒ.</p>
<p><a href="https://link.juejin.im?target=http%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fcode.visualstudio.com%2F" target="_blank" rel="external">Visual Studio Code</a>éœ€è¦å®‰è£… <a href="https://link.juejin.im?target=http%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fmarketplace.visualstudio.com%2Fitems%253FitemName%253Ddbaeumer.vscode-eslint" target="_blank" rel="external">ESLintæ‰©å±•</a></p>
<p><a href="https://link.juejin.im?target=http%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fatom.io%2F" target="_blank" rel="external">atom</a>éœ€è¦å®‰è£… <a href="https://link.juejin.im?target=http%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fatom.io%2Fpackages%2Flinter" target="_blank" rel="external">linter</a>å’Œ<a href="https://link.juejin.im?target=http%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fatom.io%2Fpackages%2Flinter-eslint" target="_blank" rel="external">linter-eslint</a>è¿™ä¸¤ä¸ªæ’ä»¶, è£…å¥½åé‡å¯ç”Ÿæ•ˆ.</p>
<h2 id="å®‰è£…webpackå’ŒBabel"><a href="#å®‰è£…webpackå’ŒBabel" class="headerlink" title="å®‰è£…webpackå’ŒBabel"></a>å®‰è£…webpackå’ŒBabel</h2><p>æˆ‘ä»¬æŠŠwebpackå’Œå®ƒçš„æ’ä»¶å®‰è£…åˆ°é¡¹ç›®:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install webpack webpack-dev-server html-webpack-plugin html-loader css-loader style-loader file-loader url-loader --save-dev</div></pre></td></tr></table></figure>
<p><a href="https://link.juejin.im?target=http%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fwebpack.js.org%2Fguides%2Fdevelopment%2F%2523webpack-dev-server" target="_blank" rel="external">webpack-dev-server</a>æ˜¯webpackæä¾›çš„ç”¨æ¥å¼€å‘è°ƒè¯•çš„æœåŠ¡å™¨, è®©ä½ å¯ä»¥ç”¨ <a href="https://link.juejin.im?target=http%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttp%253A%2F%2F127.0.0.1%253A8080%2F" target="_blank" rel="external">http://127.0.0.1:8080/</a> è¿™æ ·çš„urlæ‰“å¼€é¡µé¢æ¥è°ƒè¯•, æœ‰äº†å®ƒå°±ä¸ç”¨é…ç½®<a href="https://link.juejin.im?target=http%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fnginx.org%2Fen%2F" target="_blank" rel="external">nginx</a>äº†, æ–¹ä¾¿å¾ˆå¤š.</p>
<p><a href="https://link.juejin.im?target=http%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fgithub.com%2Fampedandwired%2Fhtml-webpack-plugin" target="_blank" rel="external">html-webpack-plugin</a>, <a href="https://link.juejin.im?target=http%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fgithub.com%2Fwebpack%2Fhtml-loader" target="_blank" rel="external">html-loader</a>,<a href="https://link.juejin.im?target=http%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fgithub.com%2Fwebpack%2Fcss-loader" target="_blank" rel="external">css-loader</a>, <a href="https://link.juejin.im?target=http%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fgithub.com%2Fwebpack%2Fstyle-loader" target="_blank" rel="external">style-loader</a>ç­‰çœ‹åå­—å°±çŸ¥é“æ˜¯æ‰“åŒ…htmlæ–‡ä»¶, cssæ–‡ä»¶çš„æ’ä»¶, å¤§å®¶åœ¨è¿™é‡Œå¯èƒ½ä¼šæœ‰ç–‘é—®, <code>html-webpack-plugin</code>å’Œ<code>html-loader</code>æœ‰ä»€ä¹ˆåŒºåˆ«, <strong>css-loader</strong>å’Œ<strong>style-loader</strong>æœ‰ä»€ä¹ˆåŒºåˆ«, æˆ‘ä»¬ç­‰ä¼šçœ‹é…ç½®æ–‡ä»¶çš„æ—¶å€™å†è®².</p>
<p><a href="https://link.juejin.im?target=http%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fgithub.com%2Fwebpack%2Ffile-loader" target="_blank" rel="external">file-loader</a>å’Œ <a href="https://link.juejin.im?target=http%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fgithub.com%2Fwebpack%2Furl-loader" target="_blank" rel="external">url-loader</a>æ˜¯æ‰“åŒ…äºŒè¿›åˆ¶æ–‡ä»¶çš„æ’ä»¶, å…·ä½“ä¹Ÿåœ¨é…ç½®æ–‡ä»¶ç« èŠ‚è®²è§£.</p>
<p>æ¥ä¸‹æ¥, ä¸ºäº†èƒ½è®©ä¸æ”¯æŒES6çš„æµè§ˆå™¨(æ¯”å¦‚IE)ä¹Ÿèƒ½ç…§å¸¸è¿è¡Œ, æˆ‘ä»¬éœ€è¦å®‰è£…<a href="https://link.juejin.im?target=http%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttp%253A%2F%2Fbabeljs.io%2F" target="_blank" rel="external">babel</a>, å®ƒä¼šæŠŠæˆ‘ä»¬å†™çš„ES6æºä»£ç è½¬åŒ–æˆES5, è¿™æ ·æˆ‘ä»¬æºä»£ç å†™ES6, æ‰“åŒ…æ—¶ç”ŸæˆES5.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install babel-core babel-preset-env babel-loader --save-dev</div></pre></td></tr></table></figure>
<p>è¿™é‡Œ<strong>babel-core</strong>é¡¾åæ€ä¹‰æ˜¯babelçš„æ ¸å¿ƒç¼–è¯‘å™¨.<a href="https://link.juejin.im?target=http%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fbabeljs.io%2Fdocs%2Fplugins%2Fpreset-env%2F" target="_blank" rel="external">babel-preset-env</a>æ˜¯ä¸€ä¸ªé…ç½®æ–‡ä»¶, æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™ä¸ªé…ç½®æ–‡ä»¶è½¬æ¢<a href="https://link.juejin.im?target=http%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttp%253A%2F%2Fexploringjs.com%2Fes6%2F" target="_blank" rel="external">ES2015</a>/ <a href="https://link.juejin.im?target=http%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fleanpub.com%2Fexploring-es2016-es2017%2Fread" target="_blank" rel="external">ES2016</a>/<a href="https://link.juejin.im?target=http%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttp%253A%2F%2Fwww.2ality.com%2F2016%2F02%2Fecmascript-2017.html" target="_blank" rel="external">ES2017</a>åˆ°ES5, æ˜¯çš„, ä¸åªES6å“¦. babelè¿˜æœ‰ <a href="https://link.juejin.im?target=http%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttp%253A%2F%2Fbabeljs.io%2Fdocs%2Fplugins%2F" target="_blank" rel="external">å…¶ä»–é…ç½®æ–‡ä»¶</a>. å¦‚æœåªæƒ³ç”¨ES6, å¯ä»¥å®‰è£…<a href="https://link.juejin.im?target=http%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fbabeljs.io%2Fdocs%2Fplugins%2Fpreset-es2015%2F" target="_blank" rel="external">babel-preset-es2015</a>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install babel-preset-es2015 --save-dev</div></pre></td></tr></table></figure>
<p>ä½†æ˜¯å…‰å®‰è£…äº†<strong>babel-preset-env</strong>, åœ¨æ‰“åŒ…æ—¶æ˜¯ä¸ä¼šç”Ÿæ•ˆçš„, éœ€è¦åœ¨<strong>package.json</strong>åŠ å…¥<strong>babel</strong>é…ç½®:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  &quot;babel&quot;: &#123;</div><div class="line">    &quot;presets&quot;: [</div><div class="line">      &quot;env&quot;</div><div class="line">    ]</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>æ‰“åŒ…æ—¶babelä¼šè¯»å–<strong>package.json</strong>ä¸­<strong>babel</strong>å­—æ®µçš„å†…å®¹, ç„¶åæ‰§è¡Œç›¸åº”çš„è½¬æ¢.</p>
<p>å¦‚æœä½¿ç”¨<strong>babel-preset-es2015</strong>, è¿™é‡Œç›¸åº”çš„ä¹Ÿè¦ä¿®æ”¹ä¸º:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  &quot;babel&quot;: &#123;</div><div class="line">    &quot;presets&quot;: [</div><div class="line">      &quot;es2015&quot;</div><div class="line">    ]</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><a href="https://link.juejin.im?target=http%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fgithub.com%2Fbabel%2Fbabel-loader" target="_blank" rel="external">babel-loader</a>æ˜¯webpackçš„æ’ä»¶, æˆ‘ä»¬ä¸‹é¢ç« èŠ‚å†è¯´.</p>
<h2 id="é…ç½®webpack"><a href="#é…ç½®webpack" class="headerlink" title="é…ç½®webpack"></a>é…ç½®webpack</h2><p>åŒ…éƒ½è£…å¥½äº†, æ¥ä¸‹æ¥, æ€»ç®—å¯ä»¥è¿›å…¥æ­£é¢˜äº†, æ˜¯ä¸æ˜¯æœ‰ç‚¹å¿ƒç´¯â€¦å‘µå‘µ. æˆ‘ä»¬æ¥åˆ›å»ºwebpacké…ç½®æ–‡ä»¶<strong>webpack.config.js</strong>, æ³¨æ„è¿™ä¸ªæ–‡ä»¶æ˜¯åœ¨node.jsä¸­è¿è¡Œçš„, å› æ­¤ä¸æ”¯æŒES6çš„<strong>import</strong>è¯­æ³•. æˆ‘ä»¬æ¥çœ‹æ–‡ä»¶å†…å®¹:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div></pre></td><td class="code"><pre><div class="line">const &#123; resolve &#125; = require(&apos;path&apos;)</div><div class="line">const HtmlWebpackPlugin = require(&apos;html-webpack-plugin&apos;)</div><div class="line"></div><div class="line">module.exports = &#123;</div><div class="line">  // é…ç½®é¡µé¢å…¥å£jsæ–‡ä»¶</div><div class="line">  entry: &apos;./src/index.js&apos;,</div><div class="line"></div><div class="line">  // é…ç½®æ‰“åŒ…è¾“å‡ºç›¸å…³</div><div class="line">  output: &#123;</div><div class="line">    // æ‰“åŒ…è¾“å‡ºç›®å½•</div><div class="line">    path: resolve(__dirname, &apos;dist&apos;),</div><div class="line"></div><div class="line">    // å…¥å£jsçš„æ‰“åŒ…è¾“å‡ºæ–‡ä»¶å</div><div class="line">    filename: &apos;index.js&apos;</div><div class="line">  &#125;,</div><div class="line"></div><div class="line">  module: &#123;</div><div class="line">    /*</div><div class="line">    é…ç½®å„ç§ç±»å‹æ–‡ä»¶çš„åŠ è½½å™¨, ç§°ä¹‹ä¸ºloader</div><div class="line">    webpackå½“é‡åˆ°import ... æ—¶, ä¼šè°ƒç”¨è¿™é‡Œé…ç½®çš„loaderå¯¹å¼•ç”¨çš„æ–‡ä»¶è¿›è¡Œç¼–è¯‘</div><div class="line">    */</div><div class="line"></div><div class="line">    rules: [</div><div class="line">      &#123;</div><div class="line">        /*</div><div class="line">        ä½¿ç”¨babelç¼–è¯‘ES6/ES7/ES8ä¸ºES5ä»£ç </div><div class="line">        ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…åç¼€åä¸º.jsçš„æ–‡ä»¶</div><div class="line">        */</div><div class="line">        test: /\.js$/,</div><div class="line"></div><div class="line">        // æ’é™¤node_modulesç›®å½•ä¸‹çš„æ–‡ä»¶, npmå®‰è£…çš„åŒ…ä¸éœ€è¦ç¼–è¯‘</div><div class="line">        exclude: /node_modules/,</div><div class="line"></div><div class="line">        /*</div><div class="line">        useæŒ‡å®šè¯¥æ–‡ä»¶çš„loader, å€¼å¯ä»¥æ˜¯å­—ç¬¦ä¸²æˆ–è€…æ•°ç»„.</div><div class="line">        è¿™é‡Œå…ˆä½¿ç”¨eslint-loaderå¤„ç†, è¿”å›çš„ç»“æœäº¤ç»™babel-loaderå¤„ç†. loaderçš„å¤„ç†é¡ºåºæ˜¯ä»æœ€åä¸€ä¸ªåˆ°ç¬¬ä¸€ä¸ª.</div><div class="line">        eslint-loaderç”¨æ¥æ£€æŸ¥ä»£ç , å¦‚æœæœ‰é”™è¯¯, ç¼–è¯‘çš„æ—¶å€™ä¼šæŠ¥é”™.</div><div class="line">        babel-loaderç”¨æ¥ç¼–è¯‘jsæ–‡ä»¶.</div><div class="line">        */</div><div class="line">        use: [&apos;babel-loader&apos;, &apos;eslint-loader&apos;]</div><div class="line">      &#125;,</div><div class="line"></div><div class="line">      &#123;</div><div class="line">        // åŒ¹é….htmlæ–‡ä»¶</div><div class="line">        test: /\.html$/,</div><div class="line">        /*</div><div class="line">        ä½¿ç”¨html-loader, å°†htmlå†…å®¹å­˜ä¸ºjså­—ç¬¦ä¸², æ¯”å¦‚å½“é‡åˆ°</div><div class="line">        import htmlString from &apos;./template.html&apos;</div><div class="line">        template.htmlçš„æ–‡ä»¶å†…å®¹ä¼šè¢«è½¬æˆä¸€ä¸ªjså­—ç¬¦ä¸², åˆå¹¶åˆ°jsæ–‡ä»¶é‡Œ.</div><div class="line">        */</div><div class="line">        use: &apos;html-loader&apos;</div><div class="line">      &#125;,</div><div class="line"></div><div class="line">      &#123;</div><div class="line">        // åŒ¹é….cssæ–‡ä»¶</div><div class="line">        test: /\.css$/,</div><div class="line"></div><div class="line">        /*</div><div class="line">        å…ˆä½¿ç”¨css-loaderå¤„ç†, è¿”å›çš„ç»“æœäº¤ç»™style-loaderå¤„ç†.</div><div class="line">        css-loaderå°†csså†…å®¹å­˜ä¸ºjså­—ç¬¦ä¸², å¹¶ä¸”ä¼šæŠŠbackground, @font-faceç­‰å¼•ç”¨çš„å›¾ç‰‡,</div><div class="line">        å­—ä½“æ–‡ä»¶äº¤ç»™æŒ‡å®šçš„loaderæ‰“åŒ…, ç±»ä¼¼ä¸Šé¢çš„html-loader, ç”¨ä»€ä¹ˆloaderåŒæ ·åœ¨loaderså¯¹è±¡ä¸­å®šä¹‰, ç­‰ä¼šä¸‹é¢å°±ä¼šçœ‹åˆ°.</div><div class="line">        */</div><div class="line">        use: [&apos;style-loader&apos;, &apos;css-loader&apos;]</div><div class="line">      &#125;,</div><div class="line"></div><div class="line">      &#123;</div><div class="line">        /*</div><div class="line">        åŒ¹é…å„ç§æ ¼å¼çš„å›¾ç‰‡å’Œå­—ä½“æ–‡ä»¶</div><div class="line">        ä¸Šé¢html-loaderä¼šæŠŠhtmlä¸­&lt;img&gt;æ ‡ç­¾çš„å›¾ç‰‡è§£æå‡ºæ¥, æ–‡ä»¶ååŒ¹é…åˆ°è¿™é‡Œçš„testçš„æ­£åˆ™è¡¨è¾¾å¼,</div><div class="line">        css-loaderå¼•ç”¨çš„å›¾ç‰‡å’Œå­—ä½“åŒæ ·ä¼šåŒ¹é…åˆ°è¿™é‡Œçš„testæ¡ä»¶</div><div class="line">        */</div><div class="line">        test: /\.(png|jpg|jpeg|gif|eot|ttf|woff|woff2|svg|svgz)(\?.+)?$/,</div><div class="line"></div><div class="line">        /*</div><div class="line">        ä½¿ç”¨url-loader, å®ƒæ¥å—ä¸€ä¸ªlimitå‚æ•°, å•ä½ä¸ºå­—èŠ‚(byte)</div><div class="line"></div><div class="line">        å½“æ–‡ä»¶ä½“ç§¯å°äºlimitæ—¶, url-loaderæŠŠæ–‡ä»¶è½¬ä¸ºData URIçš„æ ¼å¼å†…è”åˆ°å¼•ç”¨çš„åœ°æ–¹</div><div class="line">        å½“æ–‡ä»¶å¤§äºlimitæ—¶, url-loaderä¼šè°ƒç”¨file-loader, æŠŠæ–‡ä»¶å‚¨å­˜åˆ°è¾“å‡ºç›®å½•, å¹¶æŠŠå¼•ç”¨çš„æ–‡ä»¶è·¯å¾„æ”¹å†™æˆè¾“å‡ºåçš„è·¯å¾„</div><div class="line"></div><div class="line">        æ¯”å¦‚ views/foo/index.htmlä¸­</div><div class="line">        &lt;img src=&quot;smallpic.png&quot;&gt;</div><div class="line">        ä¼šè¢«ç¼–è¯‘æˆ</div><div class="line">        &lt;img src=&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAA...&quot;&gt;</div><div class="line"></div><div class="line">        è€Œ</div><div class="line">        &lt;img src=&quot;largepic.png&quot;&gt;</div><div class="line">        ä¼šè¢«ç¼–è¯‘æˆ</div><div class="line">        &lt;img src=&quot;/f78661bef717cf2cc2c2e5158f196384.png&quot;&gt;</div><div class="line">        */</div><div class="line">        use: [</div><div class="line">          &#123;</div><div class="line">            loader: &apos;url-loader&apos;,</div><div class="line">            options: &#123;</div><div class="line">              limit: 10000</div><div class="line">            &#125;</div><div class="line">          &#125;</div><div class="line">        ]</div><div class="line">      &#125;</div><div class="line">    ]</div><div class="line">  &#125;,</div><div class="line"></div><div class="line">  /*</div><div class="line">  é…ç½®webpackæ’ä»¶</div><div class="line">  pluginå’Œloaderçš„åŒºåˆ«æ˜¯, loaderæ˜¯åœ¨importæ—¶æ ¹æ®ä¸åŒçš„æ–‡ä»¶å, åŒ¹é…ä¸åŒçš„loaderå¯¹è¿™ä¸ªæ–‡ä»¶åšå¤„ç†,</div><div class="line">  è€Œplugin, å…³æ³¨çš„ä¸æ˜¯æ–‡ä»¶çš„æ ¼å¼, è€Œæ˜¯åœ¨ç¼–è¯‘çš„å„ä¸ªé˜¶æ®µ, ä¼šè§¦å‘ä¸åŒçš„äº‹ä»¶, è®©ä½ å¯ä»¥å¹²é¢„æ¯ä¸ªç¼–è¯‘é˜¶æ®µ.</div><div class="line">  */</div><div class="line">  plugins: [</div><div class="line">    /*</div><div class="line">    html-webpack-pluginç”¨æ¥æ‰“åŒ…å…¥å£htmlæ–‡ä»¶</div><div class="line">    entryé…ç½®çš„å…¥å£æ˜¯jsæ–‡ä»¶, webpackä»¥jsæ–‡ä»¶ä¸ºå…¥å£, é‡åˆ°import, ç”¨é…ç½®çš„loaderåŠ è½½å¼•å…¥æ–‡ä»¶</div><div class="line">    ä½†ä½œä¸ºæµè§ˆå™¨æ‰“å¼€çš„å…¥å£html, æ˜¯å¼•ç”¨å…¥å£jsçš„æ–‡ä»¶, å®ƒåœ¨æ•´ä¸ªç¼–è¯‘è¿‡ç¨‹çš„å¤–é¢,</div><div class="line">    æ‰€ä»¥, æˆ‘ä»¬éœ€è¦html-webpack-pluginæ¥æ‰“åŒ…ä½œä¸ºå…¥å£çš„htmlæ–‡ä»¶</div><div class="line">    */</div><div class="line">    new HtmlWebpackPlugin(&#123;</div><div class="line">      /*</div><div class="line">      templateå‚æ•°æŒ‡å®šå…¥å£htmlæ–‡ä»¶è·¯å¾„, æ’ä»¶ä¼šæŠŠè¿™ä¸ªæ–‡ä»¶äº¤ç»™webpackå»ç¼–è¯‘,</div><div class="line">      webpackæŒ‰ç…§æ­£å¸¸æµç¨‹, æ‰¾åˆ°loadersä¸­testæ¡ä»¶åŒ¹é…çš„loaderæ¥ç¼–è¯‘, é‚£ä¹ˆè¿™é‡Œhtml-loaderå°±æ˜¯åŒ¹é…çš„loader</div><div class="line">     html-loaderç¼–è¯‘åäº§ç”Ÿçš„å­—ç¬¦ä¸², ä¼šç”±html-webpack-pluginå‚¨å­˜ä¸ºhtmlæ–‡ä»¶åˆ°è¾“å‡ºç›®å½•, é»˜è®¤æ–‡ä»¶åä¸ºindex.html</div><div class="line">      å¯ä»¥é€šè¿‡filenameå‚æ•°æŒ‡å®šè¾“å‡ºçš„æ–‡ä»¶å</div><div class="line">      html-webpack-pluginä¹Ÿå¯ä»¥ä¸æŒ‡å®štemplateå‚æ•°, å®ƒä¼šä½¿ç”¨é»˜è®¤çš„htmlæ¨¡æ¿.</div><div class="line">      */</div><div class="line">      template: &apos;./src/index.html&apos;</div><div class="line">    &#125;)</div><div class="line">  ],</div><div class="line"></div><div class="line">  /*</div><div class="line">  é…ç½®å¼€å‘æ—¶ç”¨çš„æœåŠ¡å™¨, è®©ä½ å¯ä»¥ç”¨ http://127.0.0.1:8080/ è¿™æ ·çš„urlæ‰“å¼€é¡µé¢æ¥è°ƒè¯•</div><div class="line">  å¹¶ä¸”å¸¦æœ‰çƒ­æ›´æ–°çš„åŠŸèƒ½, æ‰“ä»£ç æ—¶ä¿å­˜ä¸€ä¸‹æ–‡ä»¶, æµè§ˆå™¨ä¼šè‡ªåŠ¨åˆ·æ–°. æ¯”nginxæ–¹ä¾¿å¾ˆå¤š</div><div class="line">  å¦‚æœæ˜¯ä¿®æ”¹css, ç”šè‡³ä¸éœ€è¦åˆ·æ–°é¡µé¢, ç›´æ¥ç”Ÿæ•ˆ. è¿™è®©åƒå¼¹æ¡†è¿™ç§éœ€è¦ç‚¹å‡»äº¤äº’åæ‰ä¼šå‡ºæ¥çš„ä¸œè¥¿è°ƒè¯•èµ·æ¥æ–¹ä¾¿å¾ˆå¤š.</div><div class="line">  */</div><div class="line">  devServer: &#123;</div><div class="line">    // é…ç½®ç›‘å¬ç«¯å£, å› ä¸º8080å¾ˆå¸¸ç”¨, ä¸ºäº†é¿å…å’Œå…¶ä»–ç¨‹åºå†²çª, æˆ‘ä»¬é…ä¸ªå…¶ä»–çš„ç«¯å£å·</div><div class="line">    port: 8100,</div><div class="line">    /*</div><div class="line">    historyApiFallbackç”¨æ¥é…ç½®é¡µé¢çš„é‡å®šå‘</div><div class="line"></div><div class="line">    SPAçš„å…¥å£æ˜¯ä¸€ä¸ªç»Ÿä¸€çš„htmlæ–‡ä»¶, æ¯”å¦‚</div><div class="line">    http://localhost:8010/foo</div><div class="line">    æˆ‘ä»¬è¦è¿”å›ç»™å®ƒ</div><div class="line">    http://localhost:8010/index.html</div><div class="line">    è¿™ä¸ªæ–‡ä»¶</div><div class="line"></div><div class="line">    é…ç½®ä¸ºtrue, å½“è®¿é—®çš„æ–‡ä»¶ä¸å­˜åœ¨æ—¶, è¿”å›æ ¹ç›®å½•ä¸‹çš„index.htmlæ–‡ä»¶</div><div class="line">    */</div><div class="line">    historyApiFallback: true</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="èµ°ä¸€ä¸ª"><a href="#èµ°ä¸€ä¸ª" class="headerlink" title="èµ°ä¸€ä¸ª"></a>èµ°ä¸€ä¸ª</h2><p>é…ç½®OKäº†, æ¥ä¸‹æ¥æˆ‘ä»¬å°±è¿è¡Œä¸€ä¸‹å§. æˆ‘ä»¬å…ˆè¯•ä¸€ä¸‹å¼€å‘ç¯å¢ƒç”¨çš„webpack-dev-server:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">./node_modules/.bin/webpack-dev-server -d --hot</div></pre></td></tr></table></figure>
<p><strong>-d</strong>å‚æ•°æ˜¯å¼€å‘ç¯å¢ƒ(Development)çš„æ„æ€, å®ƒä¼šåœ¨æˆ‘ä»¬çš„é…ç½®æ–‡ä»¶ä¸­æ’å…¥è°ƒè¯•ç›¸å…³çš„é€‰é¡¹, æ¯”å¦‚æ‰“å¼€debug, æ‰“å¼€sourceMap, ä»£ç ä¸­æ’å…¥æºæ–‡ä»¶è·¯å¾„æ³¨é‡Š.</p>
<p><strong>â€“hot</strong>å¼€å¯çƒ­æ›´æ–°åŠŸèƒ½, å‚æ•°ä¼šå¸®æˆ‘ä»¬å¾€é…ç½®é‡Œæ·»åŠ <strong>HotModuleReplacementPlugin</strong>æ’ä»¶, è™½ç„¶å¯ä»¥åœ¨é…ç½®é‡Œè‡ªå·±å†™, ä½†æœ‰ç‚¹éº»çƒ¦, ç”¨å‘½ä»¤è¡Œå‚æ•°æ–¹ä¾¿å¾ˆå¤š.</p>
<p>å‘½ä»¤æ‰§è¡Œå, æ§åˆ¶å°çš„æœ€åä¸€è¡Œåº”è¯¥æ˜¯</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">webpack: bundle is now VALID.</div></pre></td></tr></table></figure>
<p>è¿™å°±ä»£è¡¨ç¼–è¯‘æˆåŠŸäº†, æˆ‘ä»¬å¯ä»¥åœ¨æµè§ˆå™¨æ‰“å¼€<a href="https://link.juejin.im?target=http%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttp%253A%2F%2Flocalhost%253A8100%2Ffoo" target="_blank" rel="external">http://localhost:8100/foo</a> çœ‹çœ‹æ•ˆæœ. å¦‚æœæœ‰æŠ¥é”™, é‚£å¯èƒ½æ˜¯ä»€ä¹ˆåœ°æ–¹æ²¡å¼„å¯¹? è¯·è‡ªå·±ä»”ç»†æ£€æŸ¥ä¸€ä¸‹~<br>æˆ‘ä»¬å¯ä»¥éšæ„æ›´æ”¹ä¸€ä¸‹srcç›®å½•ä¸‹çš„æºä»£ç , ä¿å­˜å, æµè§ˆå™¨é‡Œçš„é¡µé¢åº”è¯¥å¾ˆå¿«ä¼šæœ‰ç›¸åº”å˜åŒ–.<br>è¦é€€å‡ºç¼–è¯‘, æŒ‰<strong>ctrl+c</strong>.<br>å¼€å‘ç¯å¢ƒç¼–è¯‘è¯•è¿‡ä¹‹å, æˆ‘ä»¬è¯•è¯•çœ‹ç¼–è¯‘ç”Ÿäº§ç¯å¢ƒçš„ä»£ç , å‘½ä»¤æ˜¯:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">./node_modules/.bin/webpack -p</div></pre></td></tr></table></figure>
<p><strong>-p</strong>å‚æ•°ä¼šå¼€å¯ç”Ÿäº§ç¯å¢ƒæ¨¡å¼, è¿™ä¸ªæ¨¡å¼ä¸‹webpackä¼šå°†ä»£ç åšå‹ç¼©ç­‰ä¼˜åŒ–.<br>å¤§å®¶å¯èƒ½ä¼šå‘ç°, æ‰§è¡Œè„šæœ¬çš„å‘½ä»¤æœ‰ç‚¹éº»çƒ¦. å› æ­¤, æˆ‘ä»¬å¯ä»¥åˆ©ç”¨npmçš„ç‰¹æ€§, æŠŠå‘½ä»¤å†™åœ¨<strong>package.json</strong>ä¸­:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  &quot;scripts&quot;: &#123;</div><div class="line">    &quot;dev&quot;: &quot;webpack-dev-server -d --hot --env.dev&quot;,</div><div class="line">    &quot;build&quot;: &quot;webpack -p&quot;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>package.json</strong>ä¸­çš„<strong>scripts</strong>å¯¹è±¡, å¯ä»¥ç”¨æ¥å†™ä¸€äº›è„šæœ¬å‘½ä»¤, å‘½ä»¤ä¸éœ€è¦å‰ç¼€ç›®å½• <strong>./node_modules/.bin/</strong>, npmä¼šè‡ªåŠ¨å¯»æ‰¾è¯¥ç›®å½•ä¸‹çš„å‘½ä»¤. æˆ‘ä»¬å¯ä»¥æ‰§è¡Œ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm run dev</div></pre></td></tr></table></figure>
<p>æ¥å¯åŠ¨å¼€å‘ç¯å¢ƒ.<br>æ‰§è¡Œ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm run build</div></pre></td></tr></table></figure>
<p>æ¥æ‰“åŒ…ç”Ÿäº§ç¯å¢ƒçš„ä»£ç .</p>
<h2 id="è¿›é˜¶é…ç½®"><a href="#è¿›é˜¶é…ç½®" class="headerlink" title="è¿›é˜¶é…ç½®"></a><strong>è¿›é˜¶é…ç½®</strong></h2><p>ä¸Šé¢çš„é¡¹ç›®è™½ç„¶å¯ä»¥è·‘èµ·æ¥äº†, ä½†æœ‰å‡ ä¸ªç‚¹æˆ‘ä»¬è¿˜æ²¡æœ‰è€ƒè™‘åˆ°:</p>
<ul>
<li><p>æŒ‡å®šé™æ€èµ„æºçš„urlè·¯å¾„å‰ç¼€</p>
</li>
<li><p>å„ä¸ªé¡µé¢åˆ†å¼€æ‰“åŒ…</p>
</li>
<li><p>æ‰“åŒ…æ—¶åŒºåˆ†å¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒ</p>
</li>
<li><p>è¾“å‡ºçš„entryæ–‡ä»¶åŠ ä¸Šhash</p>
</li>
<li><p>ç¬¬ä¸‰æ–¹åº“å’Œä¸šåŠ¡ä»£ç åˆ†å¼€æ‰“åŒ…</p>
</li>
<li><p>å¼€å‘ç¯å¢ƒå…³é—­performance.hints</p>
</li>
<li><p>é…ç½®favicon</p>
</li>
<li><p>å¼€å‘ç¯å¢ƒå…è®¸å…¶ä»–ç”µè„‘è®¿é—®</p>
</li>
<li><p>æ‰“åŒ…æ—¶è‡ªå®šä¹‰éƒ¨åˆ†å‚æ•°</p>
</li>
<li><p>webpack-dev-serverå¤„ç†å¸¦åç¼€åçš„æ–‡ä»¶çš„ç‰¹æ®Šè§„åˆ™</p>
</li>
<li><p>ä»£ç ä¸­æ’å…¥ç¯å¢ƒå˜é‡</p>
</li>
<li><p>ç®€åŒ–importè·¯å¾„</p>
</li>
<li><p>ä¼˜åŒ–babelç¼–è¯‘åçš„ä»£ç æ€§èƒ½</p>
</li>
<li><p>ä½¿ç”¨webpack 2è‡ªå¸¦çš„ES6æ¨¡å—å¤„ç†åŠŸèƒ½</p>
</li>
<li><p>ä½¿ç”¨autoprefixerè‡ªåŠ¨åˆ›å»ºcssçš„vendor prefixes</p>
</li>
<li><ul>
<li>ç¼–è¯‘å‰æ¸…ç©ºdistç›®å½•</li>
</ul>
</li>
</ul>
<p>é‚£ä¹ˆ, è®©æˆ‘ä»¬åœ¨ä¸Šé¢çš„é…ç½®çš„åŸºç¡€ä¸Šç»§ç»­å®Œå–„, ä¸‹é¢çš„ä»£ç æˆ‘ä»¬åªå†™å‡ºæ”¹å˜çš„éƒ¨åˆ†. ä»£ç åœ¨<a href="https://link.juejin.im?target=http%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fgithub.com%2Ffenivana%2Fwebpack-in-action%2Ftree%2Fmaster%2Fexamples%2Fadvanced" target="_blank" rel="external">examples/advanced</a>ç›®å½•.</p>
<h2 id="æŒ‡å®šé™æ€èµ„æºçš„urlè·¯å¾„å‰ç¼€"><a href="#æŒ‡å®šé™æ€èµ„æºçš„urlè·¯å¾„å‰ç¼€" class="headerlink" title="æŒ‡å®šé™æ€èµ„æºçš„urlè·¯å¾„å‰ç¼€"></a>æŒ‡å®šé™æ€èµ„æºçš„urlè·¯å¾„å‰ç¼€</h2><p>ç°åœ¨æˆ‘ä»¬çš„èµ„æºæ–‡ä»¶çš„urlç›´æ¥åœ¨æ ¹ç›®å½•, æ¯”å¦‚<a href="https://link.juejin.im?target=http%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttp%253A%2F%2F127.0.0.1%253A8100%2Findex.js" target="_blank" rel="external">http://127.0.0.1:8100/index.js</a>, è¿™æ ·åšç¼“å­˜æ§åˆ¶å’ŒCDNéƒ½ä¸æ–¹ä¾¿, æˆ‘ä»¬éœ€è¦ç»™èµ„æºæ–‡ä»¶çš„urlåŠ ä¸€ä¸ªå‰ç¼€, æ¯”å¦‚<a href="https://link.juejin.im?target=http%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttp%253A%2F%2F127.0.0.1%253A8100%2Fassets%2Findex.js" target="_blank" rel="external">http://127.0.0.1:8100/assets/index.js</a>è¿™æ ·. æˆ‘ä»¬æ¥ä¿®æ”¹ä¸€ä¸‹webpacké…ç½®:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  output: &#123;</div><div class="line">    publicPath: &apos;/assets/&apos;</div><div class="line">  &#125;,</div><div class="line"></div><div class="line">  devServer: &#123;</div><div class="line">    // æŒ‡å®šindex.htmlæ–‡ä»¶çš„urlè·¯å¾„</div><div class="line">    historyApiFallback: &#123;</div><div class="line">      index: &apos;/assets/&apos;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="å„ä¸ªé¡µé¢åˆ†å¼€æ‰“åŒ…"><a href="#å„ä¸ªé¡µé¢åˆ†å¼€æ‰“åŒ…" class="headerlink" title="å„ä¸ªé¡µé¢åˆ†å¼€æ‰“åŒ…"></a>å„ä¸ªé¡µé¢åˆ†å¼€æ‰“åŒ…</h2><p>è¿™æ ·æµè§ˆå™¨åªéœ€åŠ è½½å½“å‰è®¿é—®çš„é¡µé¢çš„ä»£ç .</p>
<p>webpackå¯ä»¥ä½¿ç”¨å¼‚æ­¥åŠ è½½æ–‡ä»¶çš„æ–¹å¼å¼•ç”¨æ¨¡å—, webpack 1çš„APIæ˜¯<a href="https://link.juejin.im?target=http%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fwebpack.js.org%2Fguides%2Fcode-splitting-require%2F" target="_blank" rel="external">require.ensure()</a>, webpack 2å¼€å§‹æ”¯æŒTC39çš„<a href="https://link.juejin.im?target=http%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fgithub.com%2Ftc39%2Fproposal-dynamic-import" target="_blank" rel="external">dynamic import</a>. æˆ‘ä»¬è¿™é‡Œå°±ä½¿ç”¨æ–°çš„<strong>import()</strong>æ¥å®ç°é¡µé¢åˆ†å¼€æ‰“åŒ…å¼‚æ­¥åŠ è½½. è¯ä¸å¤šè¯´, ä¸Šä»£ç </p>
<p><strong>src/index.js:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">load(path) &#123;</div><div class="line">  import(&apos;./views&apos; + path + &apos;/index.js&apos;).then(module =&gt; &#123;</div><div class="line">    // export default ... çš„å†…å®¹é€šè¿‡module.defaultè®¿é—®</div><div class="line">    const View = module.default</div><div class="line">    const view = new View()</div><div class="line">    view.mount(document.body)</div><div class="line">  &#125;)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è¿™æ ·æˆ‘ä»¬å°±ä¸éœ€è¦åœ¨å¼€å¤´æŠŠæ‰€æœ‰é¡µé¢æ–‡ä»¶éƒ½importè¿›æ¥äº†.<br>å› ä¸º<strong>import()</strong>è¿˜æ²¡æœ‰æ­£å¼è¿›å…¥æ ‡å‡†, å› æ­¤babelå’Œeslintéœ€è¦æ’ä»¶æ¥æ”¯æŒå®ƒ:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install babel-eslint babel-preset-stage-2 --save-dev</div></pre></td></tr></table></figure>
<p><strong>package.json</strong>æ”¹ä¸€ä¸‹:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  &quot;babel&quot;: &#123;</div><div class="line">    &quot;presets&quot;: [</div><div class="line">      &quot;env&quot;,</div><div class="line">      &quot;stage-2&quot;</div><div class="line">    ]</div><div class="line">  &#125;,</div><div class="line">  &quot;eslintConfig&quot;: &#123;</div><div class="line">    &quot;parser&quot;: &quot;babel-eslint&quot;,</div><div class="line">    &quot;extends&quot;: &quot;enough&quot;,</div><div class="line">    &quot;env&quot;: &#123;</div><div class="line">      &quot;browser&quot;: true,</div><div class="line">      &quot;node&quot;: true</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ç„¶åä¿®æ”¹webpacké…ç½®:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  output: &#123;</div><div class="line">    /*</div><div class="line">    import()åŠ è½½çš„æ–‡ä»¶ä¼šè¢«åˆ†å¼€æ‰“åŒ…, æˆ‘ä»¬ç§°è¿™ä¸ªåŒ…ä¸ºchunk, chunkFilenameç”¨æ¥é…ç½®è¿™ä¸ªchunkè¾“å‡ºçš„æ–‡ä»¶å.</div><div class="line"></div><div class="line">    [id]: ç¼–è¯‘æ—¶æ¯ä¸ªchunkä¼šæœ‰ä¸€ä¸ªid.</div><div class="line">    [chunkhash]: è¿™ä¸ªchunkçš„hashå€¼, æ–‡ä»¶å‘ç”Ÿå˜åŒ–æ—¶è¯¥å€¼ä¹Ÿä¼šå˜. æ–‡ä»¶ååŠ ä¸Šè¯¥å€¼å¯ä»¥é˜²æ­¢æµè§ˆå™¨è¯»å–æ—§çš„ç¼“å­˜æ–‡ä»¶.</div><div class="line">    */</div><div class="line">    chunkFilename: &apos;[id].js?[chunkhash]&apos;,</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="æ‰“åŒ…æ—¶åŒºåˆ†å¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒ"><a href="#æ‰“åŒ…æ—¶åŒºåˆ†å¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒ" class="headerlink" title="æ‰“åŒ…æ—¶åŒºåˆ†å¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒ"></a>æ‰“åŒ…æ—¶åŒºåˆ†å¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒ</h2><p>å¦‚æœwebpack.config.jså¯¼å‡ºçš„æ˜¯ä¸€ä¸ªfunction, é‚£ä¹ˆwebpackä¼šæ‰§è¡Œå®ƒ, å¹¶æŠŠè¿”å›çš„ç»“æœä½œä¸ºé…ç½®å¯¹è±¡.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">module.exports = (options = &#123;&#125;) =&gt; &#123;</div><div class="line">  return &#123;</div><div class="line">    // é…ç½®å†…å®¹</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è¯¥functionæ¥å—ä¸€ä¸ªå‚æ•°, è¿™ä¸ªå‚æ•°çš„å€¼æ˜¯ç”±å‘½ä»¤è¡Œä¼ å…¥çš„. æ¯”å¦‚å½“æˆ‘ä»¬åœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œ:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">webpack --env.dev --env.server localhost</div></pre></td></tr></table></figure>
<p>é‚£ä¹ˆoptionså€¼ä¸º <code>{ dev: true, server: &#39;localhost&#39; }</code></p>
<p>è¯¥å‚æ•°å¯¹ webpack-dev-server å‘½ä»¤åŒæ ·æœ‰æ•ˆ.</p>
<p>æˆ‘ä»¬ä¿®æ”¹ä¸€ä¸‹package.json, ç»™devè„šæœ¬åŠ ä¸Šenv.dev:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  &quot;scripts&quot;: &#123;</div><div class="line">    &quot;dev&quot;: &quot;webpack-dev-server -d --hot --env.dev&quot;,</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="è¾“å‡ºçš„entryæ–‡ä»¶åŠ ä¸Šhash"><a href="#è¾“å‡ºçš„entryæ–‡ä»¶åŠ ä¸Šhash" class="headerlink" title="è¾“å‡ºçš„entryæ–‡ä»¶åŠ ä¸Šhash"></a>è¾“å‡ºçš„entryæ–‡ä»¶åŠ ä¸Šhash</h2><p>ä¸Šé¢æˆ‘ä»¬æåˆ°äº†chunkFilenameå¯ä»¥åŠ ä¸Š[chunkhash]é˜²æ­¢æµè§ˆå™¨è¯»å–é”™è¯¯ç¼“å­˜, é‚£ä¹ˆentryåŒæ ·éœ€è¦åŠ ä¸Šhash. ä½†ä½¿ç”¨webpack-dev-serverå¯åŠ¨å¼€å‘ç¯å¢ƒæ—¶, entryæ–‡ä»¶æ˜¯æ²¡æœ‰[chunkhash]çš„, ç”¨äº†ä¼šæŠ¥é”™. å› æ­¤æˆ‘ä»¬éœ€è¦åˆ©ç”¨ä¸Šé¢æåˆ°çš„åŒºåˆ†å¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒçš„åŠŸèƒ½, åªåœ¨æ‰“åŒ…ç”Ÿäº§ç¯å¢ƒä»£ç æ—¶åŠ ä¸Š[chunkhash]</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">module.exports = (options = &#123;&#125;) =&gt; &#123;</div><div class="line">  return &#123;</div><div class="line">    /*</div><div class="line">    è¿™é‡Œentryæˆ‘ä»¬æ”¹ç”¨å¯¹è±¡æ¥å®šä¹‰</div><div class="line">    å±æ€§ååœ¨ä¸‹é¢çš„output.filenameä¸­ä½¿ç”¨, å€¼ä¸ºæ–‡ä»¶è·¯å¾„</div><div class="line">    */</div><div class="line">    entry: &#123;</div><div class="line">      index: &apos;./src/index&apos;,</div><div class="line">    &#125;,</div><div class="line"></div><div class="line">    output: &#123;</div><div class="line">      /*</div><div class="line">      entryå­—æ®µé…ç½®çš„å…¥å£jsçš„æ‰“åŒ…è¾“å‡ºæ–‡ä»¶å</div><div class="line">      [name]ä½œä¸ºå ä½ç¬¦, åœ¨è¾“å‡ºæ—¶ä¼šè¢«æ›¿æ¢ä¸ºentryé‡Œå®šä¹‰çš„å±æ€§å, æ¯”å¦‚è¿™é‡Œä¼šè¢«æ›¿æ¢ä¸º&quot;index&quot;</div><div class="line">      [chunkhash]æ˜¯æ‰“åŒ…åè¾“å‡ºæ–‡ä»¶çš„hashå€¼çš„å ä½ç¬¦, æŠŠ?[chunkhash]è·Ÿåœ¨æ–‡ä»¶ååé¢å¯ä»¥é˜²æ­¢æµè§ˆå™¨ä½¿ç”¨ç¼“å­˜çš„è¿‡æœŸå†…å®¹,</div><div class="line">      è¿™é‡Œ, webpackä¼šç”Ÿæˆä»¥ä¸‹ä»£ç æ’å…¥åˆ°index.htmlä¸­:</div><div class="line">      &lt;script type=&quot;text/javascript&quot; src=&quot;/assets/index.js?d835352892e6aac768bf&quot;&gt;&lt;/script&gt;</div><div class="line">      è¿™é‡Œ/assets/ç›®å½•å‰ç¼€æ˜¯output.publicPathé…ç½®çš„</div><div class="line"></div><div class="line">      options.devæ˜¯å‘½ä»¤è¡Œä¼ å…¥çš„å‚æ•°. è¿™é‡Œæ˜¯ç”±äºä½¿ç”¨webpack-dev-serverå¯åŠ¨å¼€å‘ç¯å¢ƒæ—¶, æ˜¯æ²¡æœ‰[chunkhash]çš„, ç”¨äº†ä¼šæŠ¥é”™</div><div class="line">      å› æ­¤æˆ‘ä»¬ä¸å¾—å·²åœ¨ä½¿ç”¨webpack-dev-serverå¯åŠ¨é¡¹ç›®æ—¶, å‘½ä»¤è¡Œè·Ÿä¸Š--env.devå‚æ•°, å½“æœ‰è¯¥å‚æ•°æ—¶, ä¸åœ¨åé¢è·Ÿ[chunkhash]</div><div class="line">      */</div><div class="line">      filename: options.dev ? &apos;[name].js&apos; : &apos;[name].js?[chunkhash]&apos;,</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>æœ‰äººå¯èƒ½æ³¨æ„åˆ°å®˜ç½‘æ–‡æ¡£ä¸­è¿˜æœ‰ä¸€ä¸ª[hash]å ä½ç¬¦, è¿™ä¸ªhashæ˜¯æ•´ä¸ªç¼–è¯‘è¿‡ç¨‹äº§ç”Ÿçš„ä¸€ä¸ªæ€»çš„hashå€¼, è€Œä¸æ˜¯å•ä¸ªæ–‡ä»¶çš„hashå€¼, é¡¹ç›®ä¸­ä»»ä½•ä¸€ä¸ªæ–‡ä»¶çš„æ”¹åŠ¨, éƒ½ä¼šé€ æˆè¿™ä¸ªhashå€¼çš„æ”¹å˜. [hash]å ä½ç¬¦æ˜¯å§‹ç»ˆå­˜åœ¨çš„, ä½†æˆ‘ä»¬ä¸å¸Œæœ›ä¿®æ”¹ä¸€ä¸ªæ–‡ä»¶å¯¼è‡´æ‰€æœ‰è¾“å‡ºçš„æ–‡ä»¶hashéƒ½æ”¹å˜, è¿™æ ·å°±æ— æ³•åˆ©ç”¨æµè§ˆå™¨ç¼“å­˜äº†. å› æ­¤è¿™ä¸ª[hash]æ„ä¹‰ä¸å¤§.</p>
<h2 id="ç¬¬ä¸‰æ–¹åº“å’Œä¸šåŠ¡ä»£ç åˆ†å¼€æ‰“åŒ…"><a href="#ç¬¬ä¸‰æ–¹åº“å’Œä¸šåŠ¡ä»£ç åˆ†å¼€æ‰“åŒ…" class="headerlink" title="ç¬¬ä¸‰æ–¹åº“å’Œä¸šåŠ¡ä»£ç åˆ†å¼€æ‰“åŒ…"></a>ç¬¬ä¸‰æ–¹åº“å’Œä¸šåŠ¡ä»£ç åˆ†å¼€æ‰“åŒ…</h2><p>è¿™æ ·æ›´æ–°ä¸šåŠ¡ä»£ç æ—¶å¯ä»¥å€ŸåŠ©æµè§ˆå™¨ç¼“å­˜, ç”¨æˆ·ä¸éœ€è¦é‡æ–°ä¸‹è½½æ²¡æœ‰å‘ç”Ÿå˜åŒ–çš„ç¬¬ä¸‰æ–¹åº“.</p>
<p>æˆ‘ä»¬çš„æ€è·¯æ˜¯, å…¥å£çš„htmlæ–‡ä»¶å¼•ä¸¤ä¸ªjs, <strong>vendor.js</strong>å’Œ<strong>index.js</strong>ã€‚<strong>vendor.js</strong>ç”¨æ¥å¼•ç”¨ç¬¬ä¸‰æ–¹åº“, æ¯”å¦‚è¿™å„¿æˆ‘ä»¬å¼•å…¥ä¸€ä¸ªç¬¬ä¸‰æ–¹åº“æ¥åšè·¯ç”±, æˆ‘ä»¬å…ˆå®‰è£…å®ƒ:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install spa-history --save</div></pre></td></tr></table></figure>
<p>ç„¶ååœ¨<strong>vendor.js</strong>ä¸­, æˆ‘ä»¬å¼•ç”¨ä¸€ä¸‹å®ƒ:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">import &apos;spa-history&apos;</div></pre></td></tr></table></figure>
<p>æˆ‘ä»¬<strong>import</strong>å®ƒä½†ä¸éœ€è¦åšä»€ä¹ˆ, è¿™æ ·webpackæ‰“åŒ…çš„æ—¶å€™ä¼šæŠŠè¿™ä¸ªç¬¬ä¸‰æ–¹åº“æ‰“åŒ…è¿›<strong>vendor.js.</strong></p>
<p>ç„¶ååœ¨<strong>src/index.js</strong>ä¸­, æˆ‘ä»¬ä½¿ç”¨å®ƒ:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">import SpaHistory from &apos;spa-history&apos;</div><div class="line"></div><div class="line">new SpaHistory(&#123;</div><div class="line">  onNavigate(location) &#123;</div><div class="line">    import(&apos;./views&apos; + location.path + &apos;/index.js&apos;).then(module =&gt; &#123;</div><div class="line">      const View = module.default</div><div class="line">      const view = new View()</div><div class="line">      view.mount(document.body)</div><div class="line">    &#125;)</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>é¡µé¢<strong>foo</strong>å’Œ<strong>bar</strong>çš„jså’Œhtmlæ–‡ä»¶å› ä¸ºè·¯ç”±çš„æ”¹å˜ä¹Ÿè¦åšäº›å¾®è°ƒ.</p>
<p><strong>src/views/foo/index.js</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">import template from &apos;./index.html&apos;</div><div class="line">import &apos;./style.css&apos;</div><div class="line"></div><div class="line">export default class &#123;</div><div class="line">  mount(container) &#123;</div><div class="line">    document.title = &apos;foo&apos;</div><div class="line">    container.innerHTML = template</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>src/views/foo/index.html:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">&lt;div class=&quot;foo&quot;&gt;</div><div class="line">  &lt;h1&gt;Page Foo&lt;/h1&gt;</div><div class="line">  &lt;a href=&quot;/bar&quot;&gt;goto bar&lt;/a&gt;</div><div class="line"></div><div class="line">  &lt;p&gt;</div><div class="line">    &lt;img src=&quot;smallpic.png&quot;&gt;</div><div class="line">  &lt;/p&gt;</div><div class="line"></div><div class="line">  &lt;p&gt;</div><div class="line">    &lt;img src=&quot;/views/foo/largepic.png&quot;&gt;</div><div class="line">  &lt;/p&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure>
<p><strong>src/views/bar/index.js:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">import template from &apos;./index.html&apos;</div><div class="line">import &apos;./style.css&apos;</div><div class="line"></div><div class="line">export default class &#123;</div><div class="line">  mount(container) &#123;</div><div class="line">    document.title = &apos;bar&apos;</div><div class="line">    container.innerHTML = template</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>src/views/bar/index.html:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;div class=&quot;bar&quot;&gt;</div><div class="line">  &lt;h1&gt;Page Bar&lt;/h1&gt;</div><div class="line">  &lt;a href=&quot;/foo&quot;&gt;goto foo&lt;/a&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure>
<p>ç„¶åæœ€é‡è¦çš„webpackçš„é…ç½®éœ€è¦ä¿®æ”¹ä¸€ä¸‹:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div></pre></td><td class="code"><pre><div class="line">// å¼•å…¥webpack, ç­‰ä¼šéœ€è¦ç”¨</div><div class="line">const webpack = require(&apos;webpack&apos;)</div><div class="line"></div><div class="line">module.exports = (options = &#123;&#125;) =&gt; &#123;</div><div class="line">  return &#123;</div><div class="line">    // entryä¸­åŠ å…¥vendor</div><div class="line">    entry: &#123;</div><div class="line">      vendor: &apos;./src/vendor&apos;,</div><div class="line">      index: &apos;./src/index&apos;</div><div class="line">    &#125;,</div><div class="line"></div><div class="line">    plugins: [</div><div class="line">      /*</div><div class="line">      ä½¿ç”¨CommonsChunkPluginæ’ä»¶æ¥å¤„ç†é‡å¤ä»£ç </div><div class="line">      å› ä¸ºvendor.jså’Œindex.jséƒ½å¼•ç”¨äº†spa-history, å¦‚æœä¸å¤„ç†çš„è¯, ä¸¤ä¸ªæ–‡ä»¶é‡Œéƒ½ä¼šæœ‰spa-historyåŒ…çš„ä»£ç ,</div><div class="line">      æˆ‘ä»¬ç”¨CommonsChunkPluginæ’ä»¶æ¥ä½¿å…±åŒå¼•ç”¨çš„æ–‡ä»¶åªæ‰“åŒ…è¿›vendor.js</div><div class="line">      */</div><div class="line">      new webpack.optimize.CommonsChunkPlugin(&#123;</div><div class="line">        /*</div><div class="line">        names: å°†entryæ–‡ä»¶ä¸­å¼•ç”¨çš„ç›¸åŒæ–‡ä»¶æ‰“åŒ…è¿›æŒ‡å®šçš„æ–‡ä»¶, å¯ä»¥æ˜¯æ–°å»ºæ–‡ä»¶, ä¹Ÿå¯ä»¥æ˜¯entryä¸­å·²å­˜åœ¨çš„æ–‡ä»¶</div><div class="line">        è¿™é‡Œæˆ‘ä»¬æŒ‡å®šæ‰“åŒ…è¿›vendor.js</div><div class="line"></div><div class="line">        ä½†è¿™æ ·è¿˜ä¸å¤Ÿ, è¿˜è®°å¾—é‚£ä¸ªchunkFilenameå‚æ•°å—? è¿™ä¸ªå‚æ•°æŒ‡å®šäº†chunkçš„æ‰“åŒ…è¾“å‡ºçš„åå­—,</div><div class="line">        æˆ‘ä»¬è®¾ç½®ä¸º [id].js?[chunkhash] çš„æ ¼å¼. é‚£ä¹ˆæ‰“åŒ…æ—¶è¿™ä¸ªæ–‡ä»¶åå­˜åœ¨å“ªé‡Œçš„å‘¢?</div><div class="line">        å®ƒå°±å­˜åœ¨å¼•ç”¨å®ƒçš„æ–‡ä»¶ä¸­. è¿™å°±æ„å‘³ç€è¢«å¼•ç”¨çš„æ–‡ä»¶å‘ç”Ÿæ”¹å˜, ä¼šå¯¼è‡´å¼•ç”¨çš„å®ƒæ–‡ä»¶ä¹Ÿå‘ç”Ÿæ”¹å˜.</div><div class="line"></div><div class="line">        ç„¶åCommonsChunkPluginæœ‰ä¸ªé™„åŠ æ•ˆæœ, ä¼šæŠŠæ‰€æœ‰chunkçš„æ–‡ä»¶åè®°å½•åˆ°namesæŒ‡å®šçš„æ–‡ä»¶ä¸­.</div><div class="line">        é‚£ä¹ˆè¿™æ—¶å½“æˆ‘ä»¬ä¿®æ”¹é¡µé¢fooæˆ–è€…baræ—¶, vendor.jsä¹Ÿä¼šè·Ÿç€æ”¹å˜, è€Œindex.jsä¸ä¼šå˜.</div><div class="line">        é‚£ä¹ˆæ€ä¹ˆå¤„ç†è¿™äº›chunk, ä½¿å¾—ä¿®æ”¹é¡µé¢ä»£ç è€Œä¸ä¼šå¯¼è‡´entryæ–‡ä»¶æ”¹å˜å‘¢?</div><div class="line"></div><div class="line">        è¿™é‡Œæˆ‘ä»¬ç”¨äº†ä¸€ç‚¹å°æŠ€å·§. nameså‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ªæ•°ç»„, æ„æ€ç›¸å½“äºè°ƒç”¨å¤šæ¬¡CommonsChunkPlugin,</div><div class="line">        æ¯”å¦‚:</div><div class="line"></div><div class="line">        plugins: [</div><div class="line">          new webpack.optimize.CommonsChunkPlugin(&#123;</div><div class="line">            names: [&apos;vendor&apos;, &apos;manifest&apos;]</div><div class="line">          &#125;)</div><div class="line">        ]</div><div class="line"></div><div class="line">        ç›¸å½“äº</div><div class="line"></div><div class="line">        plugins: [</div><div class="line">          new webpack.optimize.CommonsChunkPlugin(&#123;</div><div class="line">            names: &apos;vendor&apos;</div><div class="line">          &#125;),</div><div class="line"></div><div class="line">          new webpack.optimize.CommonsChunkPlugin(&#123;</div><div class="line">            names: &apos;manifest&apos;</div><div class="line">          &#125;)</div><div class="line">        ]</div><div class="line"></div><div class="line">        é¦–å…ˆæŠŠé‡å¤å¼•ç”¨çš„åº“æ‰“åŒ…è¿›vendor.js, è¿™æ—¶å€™æˆ‘ä»¬çš„ä»£ç é‡Œå·²ç»æ²¡æœ‰é‡å¤å¼•ç”¨äº†, chunkæ–‡ä»¶åå­˜åœ¨vendor.jsä¸­,</div><div class="line">        ç„¶åæˆ‘ä»¬åœ¨æ‰§è¡Œä¸€æ¬¡CommonsChunkPlugin, æŠŠæ‰€æœ‰chunkçš„æ–‡ä»¶åæ‰“åŒ…åˆ°manifest.jsä¸­.</div><div class="line">        è¿™æ ·æˆ‘ä»¬å°±å®ç°äº†chunkæ–‡ä»¶åå’Œä»£ç çš„åˆ†ç¦». è¿™æ ·ä¿®æ”¹ä¸€ä¸ªjsæ–‡ä»¶ä¸ä¼šå¯¼è‡´å…¶ä»–jsæ–‡ä»¶åœ¨æ‰“åŒ…æ—¶å‘ç”Ÿæ”¹å˜, åªæœ‰manifest.jsä¼šæ”¹å˜.</div><div class="line">        */</div><div class="line">        names: [&apos;vendor&apos;, &apos;manifest&apos;]</div><div class="line">      &#125;)</div><div class="line">    ]</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="é…ç½®favicon"><a href="#é…ç½®favicon" class="headerlink" title="é…ç½®favicon"></a>é…ç½®favicon</h2><p>åœ¨srcç›®å½•ä¸­æ”¾ä¸€å¼ favicon.png, ç„¶å<strong>src/index.html</strong>çš„<strong><head></head></strong>ä¸­æ’å…¥:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;link rel=&quot;icon&quot; type=&quot;image/png&quot; href=&quot;favicon.png&quot;&gt;</div></pre></td></tr></table></figure>
<p>ä¿®æ”¹webpacké…ç½®:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  module: &#123;</div><div class="line">    rules: [</div><div class="line">      &#123;</div><div class="line">        test: /\.html$/,</div><div class="line">        use: [</div><div class="line">          &#123;</div><div class="line">            loader: &apos;html-loader&apos;,</div><div class="line">            options: &#123;</div><div class="line">              /*</div><div class="line">              html-loaderæ¥å—attrså‚æ•°, è¡¨ç¤ºä»€ä¹ˆæ ‡ç­¾çš„ä»€ä¹ˆå±æ€§éœ€è¦è°ƒç”¨webpackçš„loaderè¿›è¡Œæ‰“åŒ….</div><div class="line">              æ¯”å¦‚&lt;img&gt;æ ‡ç­¾çš„srcå±æ€§, webpackä¼šæŠŠ&lt;img&gt;å¼•ç”¨çš„å›¾ç‰‡æ‰“åŒ…, ç„¶åsrcçš„å±æ€§å€¼æ›¿æ¢ä¸ºæ‰“åŒ…åçš„è·¯å¾„.</div><div class="line">              ä½¿ç”¨ä»€ä¹ˆloaderä»£ç , åŒæ ·æ˜¯åœ¨module.ruleså®šä¹‰ä¸­ä½¿ç”¨åŒ¹é…çš„è§„åˆ™.</div><div class="line"></div><div class="line">              å¦‚æœhtml-loaderä¸æŒ‡å®šattrså‚æ•°, é»˜è®¤å€¼æ˜¯img:src, æ„å‘³ç€ä¼šé»˜è®¤æ‰“åŒ…&lt;img&gt;æ ‡ç­¾çš„å›¾ç‰‡.</div><div class="line">              è¿™é‡Œæˆ‘ä»¬åŠ ä¸Š&lt;link&gt;æ ‡ç­¾çš„hrefå±æ€§, ç”¨æ¥æ‰“åŒ…å…¥å£index.htmlå¼•å…¥çš„favicon.pngæ–‡ä»¶.</div><div class="line">              */</div><div class="line">              attrs: [&apos;img:src&apos;, &apos;link:href&apos;]</div><div class="line">            &#125;</div><div class="line">          &#125;</div><div class="line">        ]</div><div class="line">      &#125;,</div><div class="line"></div><div class="line">      &#123;</div><div class="line">        /*</div><div class="line">        åŒ¹é…favicon.png</div><div class="line">        ä¸Šé¢çš„html-loaderä¼šæŠŠå…¥å£index.htmlå¼•ç”¨çš„favicon.pngå›¾æ ‡æ–‡ä»¶è§£æå‡ºæ¥è¿›è¡Œæ‰“åŒ…</div><div class="line">        æ‰“åŒ…è§„åˆ™å°±æŒ‰ç…§è¿™é‡ŒæŒ‡å®šçš„loaderæ‰§è¡Œ</div><div class="line">        */</div><div class="line">        test: /favicon\.png$/,</div><div class="line"></div><div class="line">        use: [</div><div class="line">          &#123;</div><div class="line">            // ä½¿ç”¨file-loader</div><div class="line">            loader: &apos;file-loader&apos;,</div><div class="line">            options: &#123;</div><div class="line">              /*</div><div class="line">              name: æŒ‡å®šæ–‡ä»¶è¾“å‡ºå</div><div class="line">              [name]æ˜¯æºæ–‡ä»¶å, ä¸åŒ…å«åç¼€. [ext]ä¸ºåç¼€. [hash]ä¸ºæºæ–‡ä»¶çš„hashå€¼,</div><div class="line">              è¿™é‡Œæˆ‘ä»¬ä¿æŒæ–‡ä»¶å, åœ¨åé¢è·Ÿä¸Šhash, é˜²æ­¢æµè§ˆå™¨è¯»å–è¿‡æœŸçš„ç¼“å­˜æ–‡ä»¶.</div><div class="line">              */</div><div class="line">              name: &apos;[name].[ext]?[hash]&apos;</div><div class="line">            &#125;</div><div class="line">          &#125;</div><div class="line">        ]</div><div class="line">      &#125;,</div><div class="line"></div><div class="line">      // å›¾ç‰‡æ–‡ä»¶çš„åŠ è½½é…ç½®å¢åŠ ä¸€ä¸ªexcludeå‚æ•°</div><div class="line">      &#123;</div><div class="line">        test: /\.(png|jpg|jpeg|gif|eot|ttf|woff|woff2|svg|svgz)(\?.+)?$/,</div><div class="line"></div><div class="line">        // æ’é™¤favicon.png, å› ä¸ºå®ƒå·²ç»ç”±ä¸Šé¢çš„loaderå¤„ç†äº†. å¦‚æœä¸æ’é™¤æ‰, å®ƒä¼šè¢«è¿™ä¸ªloaderå†å¤„ç†ä¸€é</div><div class="line">        exclude: /favicon\.png$/,</div><div class="line"></div><div class="line">        use: [</div><div class="line">          &#123;</div><div class="line">            loader: &apos;url-loader&apos;,</div><div class="line">            options: &#123;</div><div class="line">              limit: 10000</div><div class="line">            &#125;</div><div class="line">          &#125;</div><div class="line">        ]</div><div class="line">      &#125;</div><div class="line">    ]</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å…¶å®html-webpack-pluginæ¥å—ä¸€ä¸ª<strong>favicon</strong>å‚æ•°, å¯ä»¥æŒ‡å®šfaviconæ–‡ä»¶è·¯å¾„, ä¼šè‡ªåŠ¨æ‰“åŒ…æ’å…¥åˆ°htmlæ–‡ä»¶ä¸­. ä½†å®ƒæœ‰ä¸ª<a href="https://link.juejin.im?target=http%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fgithub.com%2Fampedandwired%2Fhtml-webpack-plugin%2Fissues%2F364" target="_blank" rel="external">bug</a>, æ‰“åŒ…åçš„æ–‡ä»¶åè·¯å¾„ä¸å¸¦hash, å°±ç®—æœ‰hash, å®ƒä¹Ÿæ˜¯[hash], è€Œä¸æ˜¯[chunkhash], å¯¼è‡´ä¿®æ”¹ä»£ç ä¹Ÿä¼šæ”¹å˜faviconæ‰“åŒ…è¾“å‡ºçš„æ–‡ä»¶å. issueä¸­æåˆ°çš„favicons-webpack-pluginå€’æ˜¯å¯ä»¥ç”¨, ä½†å®ƒä¾èµ–PhantomJS, éå¸¸å¤§.</p>
<h2 id="å¼€å‘ç¯å¢ƒå…è®¸å…¶ä»–ç”µè„‘è®¿é—®"><a href="#å¼€å‘ç¯å¢ƒå…è®¸å…¶ä»–ç”µè„‘è®¿é—®" class="headerlink" title="å¼€å‘ç¯å¢ƒå…è®¸å…¶ä»–ç”µè„‘è®¿é—®"></a>å¼€å‘ç¯å¢ƒå…è®¸å…¶ä»–ç”µè„‘è®¿é—®</h2><p>webpacké…ç½®<strong>devServer.host</strong>ä¸º<strong><code>0.0.0.0</code></strong>å³å¯.</p>
<h2 id="æ‰“åŒ…æ—¶è‡ªå®šä¹‰éƒ¨åˆ†å‚æ•°"><a href="#æ‰“åŒ…æ—¶è‡ªå®šä¹‰éƒ¨åˆ†å‚æ•°" class="headerlink" title="æ‰“åŒ…æ—¶è‡ªå®šä¹‰éƒ¨åˆ†å‚æ•°"></a>æ‰“åŒ…æ—¶è‡ªå®šä¹‰éƒ¨åˆ†å‚æ•°</h2><p>åœ¨å¤šäººå¼€å‘æ—¶, æ¯ä¸ªäººå¯èƒ½éœ€è¦æœ‰è‡ªå·±çš„é…ç½®, æ¯”å¦‚è¯´webpack-dev-serverç›‘å¬çš„ç«¯å£å·, å¦‚æœå†™æ­»åœ¨webpacké…ç½®é‡Œ, è€Œé‚£ä¸ªç«¯å£å·åœ¨æŸä¸ªåŒå­¦çš„ç”µè„‘ä¸Šè¢«å…¶ä»–è¿›ç¨‹å ç”¨äº†, ç®€å•ç²—æš´çš„ä¿®æ”¹<strong>webpack.config.js</strong>ä¼šå¯¼è‡´æäº¤ä»£ç åå…¶ä»–åŒå­¦çš„ç«¯å£ä¹Ÿè¢«æ”¹æ‰.</p>
<p>è¿˜æœ‰ä¸€ç‚¹å°±æ˜¯å¼€å‘ç¯å¢ƒ/æµ‹è¯•ç¯å¢ƒ/ç”Ÿäº§ç¯å¢ƒçš„éƒ¨åˆ†webpacké…ç½®æ˜¯ä¸åŒçš„, æ¯”å¦‚<strong>publicPath</strong>åœ¨ç”Ÿäº§ç¯å¢ƒå¯èƒ½è¦é…ç½®ä¸€ä¸ªCDNåœ°å€.</p>
<p>æˆ‘ä»¬åœ¨æ ¹ç›®å½•å»ºç«‹ä¸€ä¸ªæ–‡ä»¶å¤¹<strong>config</strong>, é‡Œé¢åˆ›å»º3ä¸ªé…ç½®æ–‡ä»¶:</p>
<ul>
<li><strong>default.js</strong>: ç”Ÿäº§ç¯å¢ƒ</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">module.exports = &#123;</div><div class="line">  publicPath: &apos;http://cdn.example.com/assets/&apos;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li><strong>dev.js</strong>: é»˜è®¤å¼€å‘ç¯å¢ƒ</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">module.exports = &#123;</div><div class="line">  publicPath: &apos;/assets/&apos;,</div><div class="line"></div><div class="line">  devServer: &#123;</div><div class="line">    port: 8100,</div><div class="line">    proxy: &#123;</div><div class="line">      &apos;/api/auth/&apos;: &#123;</div><div class="line">        target: &apos;http://api.example.dev&apos;,</div><div class="line">        changeOrigin: true,</div><div class="line">        pathRewrite: &#123; &apos;^/api&apos;: &apos;&apos; &#125;</div><div class="line">      &#125;,</div><div class="line"></div><div class="line">      &apos;/api/pay/&apos;: &#123;</div><div class="line">        target: &apos;http://pay.example.dev&apos;,</div><div class="line">        changeOrigin: true,</div><div class="line">        pathRewrite: &#123; &apos;^/api&apos;: &apos;&apos; &#125;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li><strong>local.js</strong>: ä¸ªäººæœ¬åœ°ç¯å¢ƒ, åœ¨dev.jsåŸºç¡€ä¸Šä¿®æ”¹éƒ¨åˆ†å‚æ•°.</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">const config = require(&apos;./dev&apos;)</div><div class="line">config.devServer.port = 8200</div><div class="line">module.exports = config</div></pre></td></tr></table></figure>
<p><strong>package.json</strong>ä¿®æ”¹<strong>scripts:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  &quot;scripts&quot;: &#123;</div><div class="line">    &quot;local&quot;: &quot;npm run dev --config=local&quot;,</div><div class="line">    &quot;dev&quot;: &quot;webpack-dev-server -d --hot --env.dev --env.config dev&quot;,</div><div class="line">    &quot;build&quot;: &quot;rimraf dist &amp;&amp; webpack -p&quot;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>webpacké…ç½®ä¿®æ”¹:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">// ...</div><div class="line">const url = require(&apos;url&apos;)</div><div class="line"></div><div class="line">module.exports = (options = &#123;&#125;) =&gt; &#123;</div><div class="line">  const config = require(&apos;./config/&apos; + (process.env.npm_config_config || options.config || &apos;default&apos;))</div><div class="line"></div><div class="line">  return &#123;</div><div class="line">    // ...</div><div class="line">    devServer: config.devServer ? &#123;</div><div class="line">      host: &apos;0.0.0.0&apos;,</div><div class="line">      port: config.devServer.port,</div><div class="line">      proxy: config.devServer.proxy,</div><div class="line">      historyApiFallback: &#123;</div><div class="line">        index: url.parse(config.publicPath).pathname</div><div class="line">      &#125;</div><div class="line">    &#125; : undefined,</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è¿™é‡Œçš„å…³é”®æ˜¯<strong>npm run</strong>ä¼ è¿›æ¥çš„è‡ªå®šä¹‰å‚æ•°å¯ä»¥é€šè¿‡<strong>process.env.npm_config</strong><em><strong>*</strong>è·å¾—. å‚æ•°ä¸­å¦‚æœæœ‰<strong>-</strong>ä¼šè¢«è½¬æˆ**</em>**</p>
<p><strong>â€“env.*</strong>ä¼ è¿›æ¥çš„å‚æ•°å¯ä»¥é€šè¿‡<strong>options.*</strong>è·å¾—. æˆ‘ä»¬ä¼˜å…ˆä½¿ç”¨<strong>npm run</strong>æŒ‡å®šçš„é…ç½®æ–‡ä»¶. è¿™æ ·æˆ‘ä»¬å¯ä»¥åœ¨å‘½ä»¤è¡Œè¦†ç›–scriptsä¸­æŒ‡å®šçš„é…ç½®æ–‡ä»¶:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm run dev --config=CONFIG_NAME</div></pre></td></tr></table></figure>
<p><strong>local</strong>å‘½ä»¤å°±æ˜¯è¿™æ ·åšçš„.</p>
<p>è¿™æ ·, å½“æˆ‘ä»¬æ‰§è¡Œ<strong>npm run dev</strong>æ—¶ä½¿ç”¨çš„æ˜¯<strong>dev.js</strong>, æ‰§è¡Œ<strong>npm run local</strong>ä½¿ç”¨<strong>local.js</strong>, æ‰§è¡Œ<strong>npm run build</strong>ä½¿ç”¨<strong>default.js</strong>.</p>
<p><strong>config.devServer.proxy</strong>ç”¨æ¥é…ç½®åç«¯apiçš„åå‘ä»£ç†, ajax <strong>/api/auth/*</strong>çš„è¯·æ±‚ä¼šè¢«è½¬å‘åˆ°<strong><a href="https://link.juejin.im?target=http%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttp%253A%2F%2Fapi.example.dev%2Fauth%2F" target="_blank" rel="external">http://api.example.dev/auth/</a>*</strong>, <strong>/api/pay/*</strong>çš„è¯·æ±‚ä¼šè¢«è½¬å‘åˆ°<strong><a href="https://link.juejin.im?target=http%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttp%253A%2F%2Fapi.example.dev%2Fpay%2F" target="_blank" rel="external">http://api.example.dev/pay/</a>*</strong>.</p>
<p><strong>changeOrigin</strong>ä¼šä¿®æ”¹HTTPè¯·æ±‚å¤´ä¸­çš„<strong>Host</strong>ä¸º<strong>target</strong>çš„åŸŸå, è¿™é‡Œä¼šè¢«æ”¹ä¸º<strong>api.example.dev</strong></p>
<p><strong>pathRewrite</strong>ç”¨æ¥æ”¹å†™URL, è¿™é‡Œæˆ‘ä»¬æŠŠ<strong>/api</strong>å‰ç¼€å»æ‰.</p>
<p>è¿˜æœ‰ä¸€ç‚¹, æˆ‘ä»¬ä¸éœ€è¦æŠŠè‡ªå·±ä¸ªäººç”¨çš„é…ç½®æ–‡ä»¶æäº¤åˆ°git, æ‰€ä»¥æˆ‘ä»¬åœ¨.gitignoreä¸­åŠ å…¥:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">config/*</div><div class="line">!config/default.js</div><div class="line">!config/dev.js</div></pre></td></tr></table></figure>
<p>æŠŠ<strong>config</strong>ç›®å½•æ’é™¤æ‰, ä½†æ˜¯ä¿ç•™ç”Ÿäº§ç¯å¢ƒå’Œdevé»˜è®¤é…ç½®æ–‡ä»¶.</p>
<h2 id="webpack-dev-serverå¤„ç†å¸¦åç¼€åçš„æ–‡ä»¶çš„ç‰¹æ®Šè§„åˆ™"><a href="#webpack-dev-serverå¤„ç†å¸¦åç¼€åçš„æ–‡ä»¶çš„ç‰¹æ®Šè§„åˆ™" class="headerlink" title="webpack-dev-serverå¤„ç†å¸¦åç¼€åçš„æ–‡ä»¶çš„ç‰¹æ®Šè§„åˆ™"></a>webpack-dev-serverå¤„ç†å¸¦åç¼€åçš„æ–‡ä»¶çš„ç‰¹æ®Šè§„åˆ™</h2><p>å½“å¤„ç†å¸¦åç¼€åçš„è¯·æ±‚æ—¶, æ¯”å¦‚ <a href="https://link.juejin.im?target=http%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttp%253A%2F%2Flocalhost%253A8100%2Fbar.do" target="_blank" rel="external">http://localhost:8100/bar.do</a> , webpack-dev-serverä¼šè®¤ä¸ºå®ƒåº”è¯¥æ˜¯ä¸€ä¸ªå®é™…å­˜åœ¨çš„æ–‡ä»¶, å°±ç®—æ‰¾ä¸åˆ°è¯¥æ–‡ä»¶, ä¹Ÿä¸ä¼šfallbackåˆ°index.html, è€Œæ˜¯è¿”å›404. ä½†åœ¨SPAåº”ç”¨ä¸­è¿™ä¸æ˜¯æˆ‘ä»¬å¸Œæœ›çš„. å¹¸å¥½webpack-dev-serveræœ‰ä¸€ä¸ªé…ç½®é€‰é¡¹<strong>disableDotRule: true</strong>å¯ä»¥ç¦ç”¨è¿™ä¸ªè§„åˆ™, ä½¿å¸¦åç¼€çš„æ–‡ä»¶å½“ä¸å­˜åœ¨æ—¶ä¹Ÿèƒ½fallbackåˆ°index.html</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">historyApiFallback: &#123;</div><div class="line">  index: url.parse(config.publicPath).pathname,</div><div class="line">  disableDotRule: true</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="ç®€åŒ–importè·¯å¾„"><a href="#ç®€åŒ–importè·¯å¾„" class="headerlink" title="ç®€åŒ–importè·¯å¾„"></a>ç®€åŒ–importè·¯å¾„</h2><p>æ–‡ä»¶aå¼•å…¥æ–‡ä»¶bæ—¶, bçš„è·¯å¾„æ˜¯ç›¸å¯¹äºaæ–‡ä»¶æ‰€åœ¨ç›®å½•çš„. å¦‚æœaå’Œbåœ¨ä¸åŒçš„ç›®å½•, è—å¾—åˆæ·±, å†™èµ·æ¥å°±ä¼šå¾ˆéº»çƒ¦:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">import b from &apos;../../../components/b&apos;</div></pre></td></tr></table></figure>
<p>ä¸ºäº†æ–¹ä¾¿, æˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€ä¸ªè·¯å¾„åˆ«å(alias):</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">resolve: &#123;</div><div class="line">  alias: &#123;</div><div class="line">    &apos;~&apos;: resolve(__dirname, &apos;src&apos;)</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è¿™æ ·, æˆ‘ä»¬å¯ä»¥ä»¥<code>src</code>ç›®å½•ä¸ºåŸºç¡€è·¯å¾„æ¥<code>import</code>æ–‡ä»¶:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">import b from &apos;~/components/b&apos;</div></pre></td></tr></table></figure>
<p>htmlä¸­çš„<strong><img></strong>æ ‡ç­¾æ²¡æ³•ä½¿ç”¨è¿™ä¸ªåˆ«ååŠŸèƒ½, ä½†<strong>html-loader</strong>æœ‰ä¸€ä¸ª<strong>root</strong>å‚æ•°, å¯ä»¥ä½¿ <strong>/</strong> å¼€å¤´çš„æ–‡ä»¶ç›¸å¯¹äº<strong>root</strong>ç›®å½•è§£æ.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  test: /\.html$/,</div><div class="line">  use: [</div><div class="line">    &#123;</div><div class="line">      loader: &apos;html-loader&apos;,</div><div class="line">      options: &#123;</div><div class="line">        root: resolve(__dirname, &apos;src&apos;),</div><div class="line">        attrs: [&apos;img:src&apos;, &apos;link:href&apos;]</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  ]</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>é‚£ä¹ˆ, <strong><img src="/favicon.png"></strong>å°±èƒ½é¡ºåˆ©æŒ‡å‘åˆ°srcç›®å½•ä¸‹çš„favicon.pngæ–‡ä»¶, ä¸éœ€è¦å…³å¿ƒå½“å‰æ–‡ä»¶å’Œç›®æ ‡æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„.</p>
<p>PS: åœ¨è°ƒè¯•<strong><img></strong>æ ‡ç­¾çš„æ—¶å€™é‡åˆ°ä¸€ä¸ªå‘, <strong>html-loader</strong>ä¼šè§£æ<strong><!-- --></strong>æ³¨é‡Šä¸­çš„å†…å®¹, ä¹‹å‰åœ¨æ³¨é‡Šä¸­å†™çš„</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;!--</div><div class="line">å¤§äº10kbçš„å›¾ç‰‡, å›¾ç‰‡ä¼šè¢«å‚¨å­˜åˆ°è¾“å‡ºç›®å½•, srcä¼šè¢«æ›¿æ¢ä¸ºæ‰“åŒ…åçš„è·¯å¾„</div><div class="line">&lt;img src=&quot;/assets/f78661bef717cf2cc2c2e5158f196384.png&quot;&gt;</div><div class="line">--&gt;</div></pre></td></tr></table></figure>
<p>ä¹‹å‰å› ä¸ºæ²¡æœ‰åŠ <strong>root</strong>å‚æ•°, æ‰€ä»¥<code>/</code>å¼€å¤´çš„æ–‡ä»¶åä¸ä¼šè¢«è§£æ, åŠ äº†<strong>root</strong>å¯¼è‡´ç¼–è¯‘æ—¶æŠ¥é”™, æ‰¾ä¸åˆ°è¯¥æ–‡ä»¶. å¤§å®¶è®°ä½è¿™ä¸€ç‚¹.</p>
<h2 id="ä½¿ç”¨webpack-2è‡ªå¸¦çš„ES6æ¨¡å—å¤„ç†åŠŸèƒ½"><a href="#ä½¿ç”¨webpack-2è‡ªå¸¦çš„ES6æ¨¡å—å¤„ç†åŠŸèƒ½" class="headerlink" title="ä½¿ç”¨webpack 2è‡ªå¸¦çš„ES6æ¨¡å—å¤„ç†åŠŸèƒ½"></a>ä½¿ç”¨webpack 2è‡ªå¸¦çš„ES6æ¨¡å—å¤„ç†åŠŸèƒ½</h2><p>æˆ‘ä»¬ç›®å‰çš„é…ç½®, babelä¼šæŠŠES6æ¨¡å—å®šä¹‰è½¬ä¸ºCommonJSå®šä¹‰, ä½†webpackè‡ªå·±å¯ä»¥å¤„ç†<strong>import</strong>å’Œ<strong>export</strong>, è€Œä¸”webpackå¤„ç†<strong>import</strong>æ—¶ä¼šåšä»£ç ä¼˜åŒ–, æŠŠæ²¡ç”¨åˆ°çš„éƒ¨åˆ†ä»£ç åˆ é™¤æ‰. å› æ­¤æˆ‘ä»¬é€šè¿‡babelæä¾›çš„<strong>modules: false</strong>é€‰é¡¹æŠŠES6æ¨¡å—è½¬ä¸ºCommonJSæ¨¡å—çš„åŠŸèƒ½ç»™å…³é—­æ‰.</p>
<p>package.json:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  &quot;babel&quot;: &#123;</div><div class="line">    &quot;presets&quot;: [</div><div class="line">      [</div><div class="line">        &quot;env&quot;,</div><div class="line">        &#123;</div><div class="line">          &quot;modules&quot;: false</div><div class="line">        &#125;</div><div class="line">      ],</div><div class="line">      &quot;stage-2&quot;</div><div class="line">    ]</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="ä½¿ç”¨autoprefixerè‡ªåŠ¨åˆ›å»ºcssçš„vendor-prefixes"><a href="#ä½¿ç”¨autoprefixerè‡ªåŠ¨åˆ›å»ºcssçš„vendor-prefixes" class="headerlink" title="ä½¿ç”¨autoprefixerè‡ªåŠ¨åˆ›å»ºcssçš„vendor prefixes"></a>ä½¿ç”¨autoprefixerè‡ªåŠ¨åˆ›å»ºcssçš„vendor prefixes</h2><p>cssæœ‰ä¸€ä¸ªå¾ˆéº»çƒ¦çš„é—®é¢˜å°±æ˜¯æ¯”è¾ƒæ–°çš„csså±æ€§åœ¨å„ä¸ªæµè§ˆå™¨é‡Œæ˜¯è¦åŠ å‰ç¼€çš„, æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<a href="https://link.juejin.im?target=http%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fgithub.com%2Fpostcss%2Fautoprefixer" target="_blank" rel="external">autoprefixer</a>å·¥å…·è‡ªåŠ¨åˆ›å»ºè¿™äº›æµè§ˆå™¨è§„åˆ™, é‚£ä¹ˆæˆ‘ä»¬çš„cssä¸­åªéœ€è¦å†™:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">:fullscreen a &#123;</div><div class="line">    display: flex</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>autoprefixerä¼šç¼–è¯‘æˆ:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">:-webkit-full-screen a &#123;</div><div class="line">    display: -webkit-box;</div><div class="line">    display: flex</div><div class="line">&#125;</div><div class="line">:-moz-full-screen a &#123;</div><div class="line">    display: flex</div><div class="line">&#125;</div><div class="line">:-ms-fullscreen a &#123;</div><div class="line">    display: -ms-flexbox;</div><div class="line">    display: flex</div><div class="line">&#125;</div><div class="line">:fullscreen a &#123;</div><div class="line">    display: -webkit-box;</div><div class="line">    display: -ms-flexbox;</div><div class="line">    display: flex</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>é¦–å…ˆ, æˆ‘ä»¬ç”¨npmå®‰è£…å®ƒ:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install postcss-loader autoprefixer --save-dev</div></pre></td></tr></table></figure>
<p>autoprefixeræ˜¯<a href="https://link.juejin.im?target=http%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttp%253A%2F%2Fpostcss.org%2F" target="_blank" rel="external">postcss</a>çš„ä¸€ä¸ªæ’ä»¶, æ‰€ä»¥æˆ‘ä»¬ä¹Ÿè¦å®‰è£…postcssçš„webpack <a href="https://link.juejin.im?target=http%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fgithub.com%2Fpostcss%2Fpostcss-loader" target="_blank" rel="external">loader</a>.</p>
<p>ä¿®æ”¹ä¸€ä¸‹webpackçš„css rule:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  test: /\.css$/,</div><div class="line">  use: [&apos;style-loader&apos;, &apos;css-loader&apos;, &apos;postcss-loader&apos;]</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ç„¶ååˆ›å»ºæ–‡ä»¶<strong>postcss.config.js</strong>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">module.exports = &#123;</div><div class="line">  plugins: [</div><div class="line">    require(&apos;autoprefixer&apos;)()</div><div class="line">  ]</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="ç¼–è¯‘å‰æ¸…ç©ºdistç›®å½•"><a href="#ç¼–è¯‘å‰æ¸…ç©ºdistç›®å½•" class="headerlink" title="ç¼–è¯‘å‰æ¸…ç©ºdistç›®å½•"></a>ç¼–è¯‘å‰æ¸…ç©ºdistç›®å½•</h2><p>ä¸æ¸…ç©ºçš„è¯ä¸Šæ¬¡ç¼–è¯‘ç”Ÿæˆçš„æ–‡ä»¶ä¼šé—ç•™åœ¨distç›®å½•ä¸­, æˆ‘ä»¬æœ€å¥½å…ˆæŠŠç›®å½•æ¸…ç©ºä¸€ä¸‹. macOS/Linuxä¸‹å¯ä»¥ç”¨<strong>rm -rf dist</strong>æå®š, è€ƒè™‘åˆ°è·¨å¹³å°çš„éœ€æ±‚, æˆ‘ä»¬å¯ä»¥ç”¨<strong>rimraf</strong>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install rimraf --save-dev</div></pre></td></tr></table></figure>
<p><strong>package.json</strong>ä¿®æ”¹ä¸€ä¸‹:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  &quot;scripts&quot;: &#123;</div><div class="line">    &quot;build&quot;: &quot;rimraf dist &amp;&amp; webpack -p --env.config production&quot;</div><div class="line">  &#125;,</div><div class="line">&#125;</div></pre></td></tr></table></figure>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2017/06/03/webpack2/" class="archive-article-date">
  	<time datetime="2017-06-03T08:59:48.000Z" itemprop="datePublished"><i class="icon-clock"></i>2017-06-03</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/webpack2/">webpack2</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>

  
<nav id="article-nav">
  
    <a href="/2017/06/07/canvasç²’å­è¿åŠ¨/" id="article-nav-newer" class="article-nav-link-wrap">
      <i class="icon-circle-left"></i>
      <div class="article-nav-title">
        
          canvasç²’å­è¿åŠ¨
        
      </div>
    </a>
  
  
    <a href="/2017/05/20/å¸¸ç”¨å‡ ä¸ªæ­£åˆ™/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">å¸¸ç”¨å‡ ä¸ªæ­£åˆ™</div>
      <i class="icon-circle-right"></i>
    </a>
  
</nav>














      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2017 Jasonellen
    	</div>
    </div>
  </div>
</footer>
    </div>
    <script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: false,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		root: "/",
		innerArchive: true
	}
</script>

<script src="/./main.js"></script>


    
<div class="tools-col">
  <ul class="btn-wrap">
    
      <li class="chose" data-hook="tools-section-all"><span class="text">å…¨éƒ¨</span><i class="icon-book"></i></li>
    
    
      <li data-hook="tools-section-tag"><span class="text">æ ‡ç­¾</span><i class="icon-price-tags"></i></li>
    
    
      <li data-hook="tools-section-friends"><span class="text">å‹é“¾</span><i class="icon-link"></i></li>
    
    
      <li data-hook="tools-section-me"><span class="text">æˆ‘</span><i class="icon-smile"></i></li>
    
  </ul>

  <div class="tools-wrap">
    
    	<section class="tools-section tools-section-all chose">
    	</section>
    

    
    	<section class="tools-section tools-section-tag">
    			<div class="widget tagcloud" id="js-tagcloud">
    				<a href="/tags/CSSå¸ƒå±€ä¹‹Stickyfooters/" style="font-size: 10px;">CSSå¸ƒå±€ä¹‹Stickyfooters</a> <a href="/tags/ES6/" style="font-size: 10px;">ES6</a> <a href="/tags/Hexo/" style="font-size: 10px;">Hexo</a> <a href="/tags/JSç»å…¸é¢˜è§£æ/" style="font-size: 10px;">JSç»å…¸é¢˜è§£æ</a> <a href="/tags/Markdown/" style="font-size: 10px;">Markdown</a> <a href="/tags/RNå¯åŠ¨å±/" style="font-size: 10px;">RNå¯åŠ¨å±</a> <a href="/tags/Reduxè¿›é˜¶/" style="font-size: 10px;">Reduxè¿›é˜¶</a> <a href="/tags/SVGå›¾æ ‡ä½¿ç”¨/" style="font-size: 10px;">SVGå›¾æ ‡ä½¿ç”¨</a> <a href="/tags/Vueä¹‹è·¯ç”±å’Œè¯·æ±‚/" style="font-size: 10px;">Vueä¹‹è·¯ç”±å’Œè¯·æ±‚</a> <a href="/tags/Vueå•ä¾‹ç»„ä»¶/" style="font-size: 10px;">Vueå•ä¾‹ç»„ä»¶</a> <a href="/tags/Vueæ•°æ®ç»‘å®š/" style="font-size: 10px;">Vueæ•°æ®ç»‘å®š</a> <a href="/tags/Vueè¡¨å•ä¸ç»„ä»¶/" style="font-size: 10px;">Vueè¡¨å•ä¸ç»„ä»¶</a> <a href="/tags/fetch-faild-in-reactnative/" style="font-size: 10px;">fetch faild in reactnative</a> <a href="/tags/imgClipUpload/" style="font-size: 10px;">imgClipUpload</a> <a href="/tags/import/" style="font-size: 10px;">import</a> <a href="/tags/jQueryå¯¹è±¡ä¹‹deferred/" style="font-size: 10px;">jQueryå¯¹è±¡ä¹‹deferred</a> <a href="/tags/jsåæ ‡/" style="font-size: 10px;">jsåæ ‡</a> <a href="/tags/mobiscroll/" style="font-size: 10px;">mobiscroll</a> <a href="/tags/phpå…¥é—¨/" style="font-size: 10px;">phpå…¥é—¨</a> <a href="/tags/phpæ–‡ä»¶æ“ä½œ/" style="font-size: 10px;">phpæ–‡ä»¶æ“ä½œ</a> <a href="/tags/phpç¼“å­˜æ–‡ä»¶/" style="font-size: 10px;">phpç¼“å­˜æ–‡ä»¶</a> <a href="/tags/reduxå…¥é—¨/" style="font-size: 10px;">reduxå…¥é—¨</a> <a href="/tags/saga-begining/" style="font-size: 10px;">saga-begining</a> <a href="/tags/thisç”¨æ³•/" style="font-size: 10px;">thisç”¨æ³•</a> <a href="/tags/vuex/" style="font-size: 10px;">vuex</a> <a href="/tags/webpack2/" style="font-size: 10px;">webpack2</a> <a href="/tags/åšè§‚è€Œçº¦å–ï¼Œåšç§¯è€Œè–„å‘/" style="font-size: 10px;">åšè§‚è€Œçº¦å–ï¼Œåšç§¯è€Œè–„å‘</a> <a href="/tags/å›¾ç‰‡é¢„è§ˆä¸Šä¼ /" style="font-size: 10px;">å›¾ç‰‡é¢„è§ˆä¸Šä¼ </a> <a href="/tags/å¼€å¯ä¸€ä¸ªç®€å•çš„CDNåŠ é€Ÿ/" style="font-size: 10px;">å¼€å¯ä¸€ä¸ªç®€å•çš„CDNåŠ é€Ÿ</a> <a href="/tags/å¼¹æ€§çƒ/" style="font-size: 10px;">å¼¹æ€§çƒ</a> <a href="/tags/å½»åº•å¼„æ‡‚äº‹ä»¶å§”æ‰˜/" style="font-size: 10px;">å½»åº•å¼„æ‡‚äº‹ä»¶å§”æ‰˜</a> <a href="/tags/å¾®ä¿¡å°ç¨‹åº/" style="font-size: 10px;">å¾®ä¿¡å°ç¨‹åº</a> <a href="/tags/æ‰‹æœºç«¯è‡ªé€‚åº”å•ä½æ¢ç®—/" style="font-size: 10px;">æ‰‹æœºç«¯è‡ªé€‚åº”å•ä½æ¢ç®—</a> <a href="/tags/æ‰’ä¸€æ‰’JQueryçš„å‡ ä¸ªæŠ€å·§/" style="font-size: 10px;">æ‰’ä¸€æ‰’JQueryçš„å‡ ä¸ªæŠ€å·§</a> <a href="/tags/æ•°æ®åº“åŸºæœ¬æ“ä½œï¼ˆä¸€ï¼‰/" style="font-size: 10px;">æ•°æ®åº“åŸºæœ¬æ“ä½œï¼ˆä¸€ï¼‰</a> <a href="/tags/æ•°æ®åº“åŸºæœ¬æ“ä½œï¼ˆäºŒï¼‰/" style="font-size: 10px;">æ•°æ®åº“åŸºæœ¬æ“ä½œï¼ˆäºŒï¼‰</a> <a href="/tags/æ–‡ä»¶æ‹–æ‹½/" style="font-size: 10px;">æ–‡ä»¶æ‹–æ‹½</a> <a href="/tags/æ­£åˆ™/" style="font-size: 10px;">æ­£åˆ™</a> <a href="/tags/æ»¤é•œ/" style="font-size: 10px;">æ»¤é•œ</a> <a href="/tags/ç§»åŠ¨ç«¯å¸ƒå±€-äº‹ä»¶/" style="font-size: 10px;">ç§»åŠ¨ç«¯å¸ƒå±€+äº‹ä»¶</a> <a href="/tags/ç®€ç‰ˆæ—¥å†/" style="font-size: 10px;">ç®€ç‰ˆæ—¥å†</a> <a href="/tags/ç²’å­è¿åŠ¨/" style="font-size: 10px;">ç²’å­è¿åŠ¨</a> <a href="/tags/èŠå¤©å®¤/" style="font-size: 10px;">èŠå¤©å®¤</a> <a href="/tags/é…ç½®ç›¸å…³-eslint/" style="font-size: 10px;">é…ç½®ç›¸å…³-eslint</a> <a href="/tags/é…ç½®ç›¸å…³â€”npm/" style="font-size: 10px;">é…ç½®ç›¸å…³â€”npm</a> <a href="/tags/é…ç½®ç›¸å…³â€”package-json/" style="font-size: 10px;">é…ç½®ç›¸å…³â€”package.json</a> <a href="/tags/é¢å‘å¯¹è±¡ç¼–ç¨‹/" style="font-size: 20px;">é¢å‘å¯¹è±¡ç¼–ç¨‹</a>
    			</div>
    	</section>
    

    
    	<section class="tools-section tools-section-friends">
  		
  			<div class="friends-wrap" id="js-friends">
  			
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://cn.bing.com/">å¿…åº”</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://gold.xitu.io/">æ˜é‡‘</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="//vuefe.cn/guide/">Vue</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.baidu.com/">ç™¾åº¦</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="https://yaomengyyu.github.io/">å®¶æµ©</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="https://wangyalijas.github.io/">ç‹é›…ä¸½</a>
  	        
  	        </div>
  		
    	</section>
    

    
    	<section class="tools-section tools-section-me">
  	  	
  	  		<div class="aboutme-wrap" id="js-aboutme">å¾ˆæƒ­æ„§&lt;br&gt;&lt;br&gt;æˆ‘åªæ˜¯æƒ³å­¦è®°å½•ç‚¹ä¸œè¥¿&lt;br&gt;è°¢è°¢å¤§å®¶</div>
  	  	
    	</section>
    
  </div>
  
</div>


    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>
</div>
  </div>
</body>
</html>